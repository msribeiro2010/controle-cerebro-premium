<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste - Formato JSON Atualizado</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 0;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 4px solid #28a745;
        }
        pre {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Teste - Formato JSON Atualizado</h1>
        
        <p>Este teste simula a fun√ß√£o <code>mostrarFormatoJSON()</code> atualizada para verificar se o novo formato est√° correto.</p>
        
        <button class="test-button" onclick="mostrarFormatoJSON()">
            üìã Ver Formato JSON (Simula√ß√£o)
        </button>
        
        <div id="resultado" class="result" style="display: none;">
            <h3>‚úÖ Resultado do Teste</h3>
            <p>O formato JSON foi atualizado com sucesso! Principais mudan√ßas:</p>
            <ul>
                <li>‚ùå Removido campo <code>email</code></li>
                <li>‚ùå Removido campo <code>cidade_nascimento</code></li>
                <li>‚úÖ Mantidos apenas campos obrigat√≥rios: <code>nome</code>, <code>cpf</code>, <code>perfil</code>, <code>ojs</code></li>
                <li>‚úÖ Atualizada documenta√ß√£o sobre funcionalidades</li>
                <li>‚úÖ Adicionadas observa√ß√µes sobre campos ignorados</li>
            </ul>
        </div>
    </div>

    <script>
        function mostrarFormatoJSON() {
            // Simula√ß√£o da fun√ß√£o atualizada
            const formatoExemplo = [
                {
                    "nome": "Aryelle Marcondes de Rezende",
                    "cpf": "372.854.118-41",
                    "perfil": "Secret√°rio de Audi√™ncia",
                    "ojs": [
                        "Vara do Trabalho de Bebedouro",
                        "1¬™ Vara do Trabalho de Jaboticabal",
                        "2¬™ Vara do Trabalho de Jaboticabal",
                        "Vara do Trabalho de Mococa"
                    ]
                },
                {
                    "nome": "Newton Trevisan J√∫nior",
                    "cpf": "228.302.228-22",
                    "perfil": "Secret√°rio de Audi√™ncia",
                    "ojs": [
                        "1¬™ Vara do Trabalho de S√£o Carlos",
                        "2¬™ Vara do Trabalho de S√£o Carlos",
                        "Vara do Trabalho de S√£o Jos√© do Rio Pardo",
                        "Vara do Trabalho de Taquaritinga"
                    ]
                }
            ];

            const helpHTML = `
                <div style="text-align: left; max-width: 700px;">
                    <h3>üìã Formato JSON Esperado para Importa√ß√£o</h3>
                    
                    <h4>Estrutura do JSON:</h4>
                    <pre style="background: #f8f9fa; padding: 15px; border-radius: 5px; font-size: 13px; overflow-x: auto;">${JSON.stringify(formatoExemplo, null, 2)}</pre>

                    <h4 style="margin-top: 20px;">üìù Campos Obrigat√≥rios:</h4>
                    <ul style="line-height: 1.8;">
                        <li><strong>nome:</strong> Nome completo do servidor</li>
                        <li><strong>cpf:</strong> CPF do servidor (formato: XXX.XXX.XXX-XX ou apenas n√∫meros)</li>
                        <li><strong>perfil:</strong> Perfil/cargo do servidor no sistema</li>
                        <li><strong>ojs:</strong> Array com os nomes dos √≥rg√£os julgadores</li>
                    </ul>
                    
                    <h4 style="margin-top: 20px;">üîß Funcionalidades de Verifica√ß√£o:</h4>
                    <ul style="line-height: 1.8;">
                        <li><strong>Verifica√ß√£o de Cadastro:</strong> Identifica servidores j√° cadastrados no sistema</li>
                        <li><strong>Arquivo de Automa√ß√£o:</strong> Gera arquivo JSON com servidores faltantes para automa√ß√£o</li>
                        <li><strong>Verifica√ß√£o de OJs:</strong> Verifica v√≠nculos apenas para servidores j√° cadastrados</li>
                        <li><strong>Relat√≥rio Detalhado:</strong> Apresenta resultados completos da verifica√ß√£o</li>
                    </ul>
                    
                    <h4 style="margin-top: 20px;">‚ö†Ô∏è Observa√ß√µes Importantes:</h4>
                    <ul style="line-height: 1.8;">
                        <li>Todos os campos s√£o <strong>obrigat√≥rios</strong> para o funcionamento correto</li>
                        <li>Os nomes dos OJs devem corresponder aos nomes exatos dos √≥rg√£os julgadores no PJE</li>
                        <li>O campo <strong>ojs</strong> √© um array, mesmo que contenha apenas um item</li>
                        <li>Campos como <strong>email</strong> e <strong>cidade</strong> s√£o ignorados se presentes</li>
                        <li>CPFs duplicados n√£o s√£o permitidos no mesmo arquivo</li>
                    </ul>

                    <h4 style="margin-top: 20px;">üí° Dica:</h4>
                    <p>Voc√™ pode copiar o exemplo acima e modificar com seus dados. O sistema automaticamente separar√° servidores cadastrados dos n√£o cadastrados.</p>
                </div>
            `;

            // Criar modal
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                background: rgba(0,0,0,0.5); z-index: 10000; display: flex; 
                align-items: center; justify-content: center;
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                background: white; padding: 25px; border-radius: 10px; 
                max-width: 90%; max-height: 90%; overflow-y: auto;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            `;
            
            content.innerHTML = helpHTML + `
                <div style="text-align: center; margin-top: 25px;">
                    <button onclick="navigator.clipboard.writeText('${JSON.stringify(formatoExemplo, null, 2).replace(/'/g, "\\'")}').then(() => alert('Exemplo copiado!'))" 
                            style="padding: 10px 20px; background: #28a745; color: white; 
                                   border: none; border-radius: 5px; cursor: pointer; margin-right: 10px;">
                        üìã Copiar Exemplo
                    </button>
                    <button onclick="this.closest('div[style]').parentElement.remove()" 
                            style="padding: 10px 20px; background: #007bff; color: white; 
                                   border: none; border-radius: 5px; cursor: pointer;">
                        Fechar
                    </button>
                </div>
            `;
            
            modal.appendChild(content);
            document.body.appendChild(modal);
            
            // Fechar ao clicar fora
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });

            // Mostrar resultado do teste
            document.getElementById('resultado').style.display = 'block';
        }
    </script>
</body>
</html>