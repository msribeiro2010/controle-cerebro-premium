<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com; font-src 'self' https://cdnjs.cloudflare.com https://fonts.gstatic.com; connect-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com; img-src 'self' data:;">
    <title>Central IA - NAPJe V.1.2</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="sql-workspace-styles.css">
    <!-- Tailwind build output (generated by css:build) -->
    <link rel="stylesheet" href="tw.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-left">
                <h1>
                    <i class="fas fa-atom constellation-icon"></i> Central IA - NAPJe
                    <span class="version-badge">V.1.2</span>
                </h1>
                <p>Sistema de automa√ß√£o inteligente para vincula√ß√£o de peritos e servidores no PJE</p>
            </div>
            <div class="header-right">
                <div class="datetime-widget-modern">
                    <div class="date-display-modern">
                        <div class="date-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="date-content">
                            <span class="date-label">Data</span>
                            <span class="date-value" id="current-date">Carregando...</span>
                        </div>
                    </div>
                    <div class="time-display-modern">
                        <div class="time-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="time-content">
                            <span class="time-label">Hora</span>
                            <span class="time-value" id="current-time">--:--:--</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <nav class="tabs">
            <button class="tab-button active" data-tab="inicio">
                <i class="fas fa-home tab-icon"></i>
                <span>In√≠cio</span>
            </button>
            <button class="tab-button" data-tab="servidores">
                <i class="fas fa-users tab-icon"></i>
                <span>Servidores</span>
            </button>
            <button class="tab-button" data-tab="peritos">
                <i class="fas fa-user-md tab-icon"></i>
                <span>Peritos</span>
            </button>
            <button class="tab-button" data-tab="busca-ojs">
                <i class="fas fa-search tab-icon"></i>
                <span>Pesquisa √ìrg√£os Julgadores</span>
            </button>
            <button class="tab-button" data-tab="usuarios-pje">
                <i class="fas fa-user-tie tab-icon"></i>
                <span>Usu√°rios/PJe</span>
            </button>
            <button class="tab-button" data-tab="processos-tarefa">
                <i class="fas fa-tasks tab-icon"></i>
                <span>Processos/Tarefa</span>
            </button>
            <button class="tab-button" data-tab="pesquisa-livre">
                <i class="fas fa-database tab-icon"></i>
                <span>Pesquisa Livre</span>
            </button>
            <button class="tab-button" data-tab="config">
                <i class="fas fa-cog tab-icon"></i>
                <span>Configura√ß√µes</span>
            </button>
        </nav>



        <!-- Dashboard de Processamento Paralelo -->
        <div id="parallel-dashboard" class="parallel-dashboard hidden">
            <div class="parallel-dashboard-content">
                <div class="parallel-header">
                    <h3>üöÄ Processamento Paralelo Ativo</h3>
                    <div class="parallel-summary">
                        <span id="parallel-instances-count">0</span> inst√¢ncias processando
                        <span id="parallel-total-progress">0/0</span> servidores
                    </div>
                </div>
                
                <div class="parallel-overall-progress">
                    <div class="overall-progress-label">Progresso Geral</div>
                    <div class="overall-progress-bar">
                        <div id="overall-progress-fill" class="overall-progress-fill"></div>
                    </div>
                    <div id="overall-progress-text" class="overall-progress-text">0%</div>
                </div>
                
                <div id="parallel-instances" class="parallel-instances">
                    <!-- Inst√¢ncias ser√£o adicionadas dinamicamente -->
                </div>
                
                <div class="parallel-stats">
                    <div class="stat-item">
                        <div class="stat-label">Tempo Decorrido</div>
                        <div id="parallel-elapsed-time" class="stat-value">00:00:00</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Tempo Estimado</div>
                        <div id="parallel-estimated-time" class="stat-value">--:--:--</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Velocidade</div>
                        <div id="parallel-speed" class="stat-value">-- serv/min</div>
                    </div>
                </div>
                
                <div class="parallel-controls">
                    <button id="parallel-pause-btn" class="btn btn-warning">‚è∏Ô∏è Pausar Todas</button>
                    <button id="parallel-stop-btn" class="btn btn-danger">‚èπÔ∏è Parar Processamento</button>
                </div>
            </div>
        </div>
        
        <!-- Aba In√≠cio -->
        <div id="inicio" class="tab-content active">
            <!-- Banner Informativo BugFix -->
            <div class="bugfix-banner" id="bugfixBannerInicio">
                <div class="bugfix-banner-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="bugfix-banner-content">
                    <div class="bugfix-banner-title">
                        <i class="fas fa-database"></i> Dados do Banco R√©plica
                    </div>
                    <div class="bugfix-banner-text">
                        Os dados exibidos s√£o baseados no banco r√©plica.
                    </div>
                </div>
                <button class="bugfix-banner-close" onclick="app.hideBugfixBanner('bugfixBannerInicio')" title="Fechar aviso">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="section-header">
                <h2>Central de Controle</h2>
                <p>Acesse rapidamente as principais funcionalidades do sistema</p>
            </div>
            
            <div class="dashboard-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; padding: 20px;">
                <!-- Card Servidores -->
                <div class="dashboard-card" style="background: linear-gradient(135deg, #fefcf9 0%, #f5f1e8 100%); border: 2px solid #d4c4a8; border-radius: 12px; padding: 24px; box-shadow: 0 8px 20px rgba(139, 115, 85, 0.15), 0 4px 10px rgba(107, 84, 64, 0.1); transition: transform 0.2s, box-shadow 0.2s; cursor: pointer;" onclick="app.switchTab('servidores')">
                    <div style="display: flex; align-items: center; margin-bottom: 16px;">
                        <i class="fas fa-people-group" style="font-size: 32px; color: #8b7355; margin-right: 16px;"></i>
                        <h3 style="margin: 0; color: #6b5440;">Servidores</h3>
                    </div>
                    <p style="color: #8b7355; margin-bottom: 16px;">Gerencie servidores e suas vincula√ß√µes com √≥rg√£os julgadores</p>
                    <button class="btn btn-primary" style="width: 100%; background: linear-gradient(135deg, #8b7355 0%, #a08770 100%) !important; border: 1px solid #6b5440 !important; color: #fff !important;">
                        <i class="fas fa-arrow-right"></i> Acessar
                    </button>
                </div>

                <!-- Card Peritos -->
                <div class="dashboard-card" style="background: linear-gradient(135deg, #fefcf9 0%, #f5f1e8 100%); border: 2px solid #d4c4a8; border-radius: 12px; padding: 24px; box-shadow: 0 8px 20px rgba(139, 115, 85, 0.15), 0 4px 10px rgba(107, 84, 64, 0.1); transition: transform 0.2s, box-shadow 0.2s; cursor: pointer;" onclick="app.switchTab('peritos')">
                    <div style="display: flex; align-items: center; margin-bottom: 16px;">
                        <i class="fas fa-user-shield" style="font-size: 32px; color: #8b7355; margin-right: 16px;"></i>
                        <h3 style="margin: 0; color: #6b5440;">Peritos</h3>
                    </div>
                    <p style="color: #8b7355; margin-bottom: 16px;">Cadastre e gerencie peritos judiciais</p>
                    <button class="btn btn-primary" style="width: 100%; background: linear-gradient(135deg, #8b7355 0%, #a08770 100%) !important; border: 1px solid #6b5440 !important; color: #fff !important;">
                        <i class="fas fa-arrow-right"></i> Acessar
                    </button>
                </div>

                <!-- Card Pesquisa √ìrg√£os Julgadores -->
                <div class="dashboard-card" style="background: linear-gradient(135deg, #fefcf9 0%, #f5f1e8 100%); border: 2px solid #d4c4a8; border-radius: 12px; padding: 24px; box-shadow: 0 8px 20px rgba(139, 115, 85, 0.15), 0 4px 10px rgba(107, 84, 64, 0.1); transition: transform 0.2s, box-shadow 0.2s; cursor: pointer;" onclick="app.switchTab('busca-ojs')">
                    <div style="display: flex; align-items: center; margin-bottom: 16px;">
                        <i class="fas fa-binoculars" style="font-size: 32px; color: #8b7355; margin-right: 16px;"></i>
                        <h3 style="margin: 0; color: #6b5440;">Pesquisa √ìrg√£os Julgadores</h3>
                    </div>
                    <p style="color: #8b7355; margin-bottom: 16px;">Pesquise √≥rg√£os julgadores de 1¬∫ e 2¬∫ grau</p>
                    <button class="btn btn-info" style="width: 100%; background: linear-gradient(135deg, #8b7355 0%, #a08770 100%) !important; border: 1px solid #6b5440 !important; color: #fff !important;">
                        <i class="fas fa-magnifying-glass"></i> Buscar
                    </button>
                </div>

                <!-- Card Usu√°rios PJe -->
                <div class="dashboard-card" style="background: linear-gradient(135deg, #fefcf9 0%, #f5f1e8 100%); border: 2px solid #d4c4a8; border-radius: 12px; padding: 24px; box-shadow: 0 8px 20px rgba(139, 115, 85, 0.15), 0 4px 10px rgba(107, 84, 64, 0.1); transition: transform 0.2s, box-shadow 0.2s; cursor: pointer;" onclick="app.switchTab('usuarios-pje')">
                    <div style="display: flex; align-items: center; margin-bottom: 16px;">
                        <i class="fas fa-address-card" style="font-size: 32px; color: #8b7355; margin-right: 16px;"></i>
                        <h3 style="margin: 0; color: #6b5440;">Usu√°rios/PJe</h3>
                    </div>
                    <p style="color: #8b7355; margin-bottom: 16px;">Consulte usu√°rios cadastrados no sistema PJe</p>
                    <button class="btn btn-secondary" style="width: 100%; background: linear-gradient(135deg, #8b7355 0%, #a08770 100%) !important; border: 1px solid #6b5440 !important; color: #fff !important;">
                        <i class="fas fa-users"></i> Consultar
                    </button>
                </div>

                <!-- Card Processos/Tarefa -->
                <div class="dashboard-card" style="background: linear-gradient(135deg, #fefcf9 0%, #f5f1e8 100%); border: 2px solid #d4c4a8; border-radius: 12px; padding: 24px; box-shadow: 0 8px 20px rgba(139, 115, 85, 0.15), 0 4px 10px rgba(107, 84, 64, 0.1); transition: transform 0.2s, box-shadow 0.2s; cursor: pointer;" onclick="app.switchTab('processos-tarefa')">
                    <div style="display: flex; align-items: center; margin-bottom: 16px;">
                        <i class="fas fa-list-check" style="font-size: 32px; color: #8b7355; margin-right: 16px;"></i>
                        <h3 style="margin: 0; color: #6b5440;">Processos/Tarefa</h3>
                    </div>
                    <p style="color: #8b7355; margin-bottom: 16px;">Verifique hist√≥rico e tarefas de processos</p>
                    <button class="btn btn-warning" style="width: 100%; background: linear-gradient(135deg, #8b7355 0%, #a08770 100%) !important; border: 1px solid #6b5440 !important; color: #fff !important;">
                        <i class="fas fa-tasks"></i> Verificar
                    </button>
                </div>

                <!-- Card Configura√ß√µes -->
                <div class="dashboard-card" style="background: linear-gradient(135deg, #fefcf9 0%, #f5f1e8 100%); border: 2px solid #d4c4a8; border-radius: 12px; padding: 24px; box-shadow: 0 8px 20px rgba(139, 115, 85, 0.15), 0 4px 10px rgba(107, 84, 64, 0.1); transition: transform 0.2s, box-shadow 0.2s; cursor: pointer;" onclick="app.switchTab('config')">
                    <div style="display: flex; align-items: center; margin-bottom: 16px;">
                        <i class="fas fa-sliders-h" style="font-size: 32px; color: #8b7355; margin-right: 16px;"></i>
                        <h3 style="margin: 0; color: #6b5440;">Configura√ß√µes</h3>
                    </div>
                    <p style="color: #8b7355; margin-bottom: 16px;">Configure credenciais do PJe e banco de dados</p>
                    <button class="btn" style="width: 100%; background: linear-gradient(135deg, #8b7355 0%, #a08770 100%) !important; border: 1px solid #6b5440 !important; color: #fff !important;">
                        <i class="fas fa-sliders-h"></i> Configurar
                    </button>
                </div>
            </div>
            
            <!-- Estat√≠sticas R√°pidas -->
            <div style="margin-top: 40px; padding: 20px;">
                <h3 style="margin-bottom: 20px; color: #5a4a3a; font-size: 1.4em;">
                    <i class="fas fa-chart-line" style="color: #8b7355;"></i> Estat√≠sticas R√°pidas
                </h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                    <!-- Servidores - Tom √Çmbar Suave -->
                    <div style="background: linear-gradient(135deg, #f5e6d3 0%, #e8d4b8 100%); border: 2px solid #d4c4a8; box-shadow: 0 4px 12px rgba(139, 115, 85, 0.15); padding: 24px; border-radius: 12px; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -20px; right: -20px; font-size: 80px; opacity: 0.08; color: #8b7355;"><i class="fas fa-users"></i></div>
                        <div style="font-size: 36px; font-weight: bold; color: #6b5440; margin-bottom: 8px;" id="total-servidores">0</div>
                        <div style="color: #8b7355; font-weight: 500; font-size: 0.9em;">Servidores Cadastrados</div>
                    </div>
                    <!-- Peritos - Tom Terracota Suave -->
                    <div style="background: linear-gradient(135deg, #f4e4d7 0%, #e5d0bd 100%); border: 2px solid #d6c1ad; box-shadow: 0 4px 12px rgba(165, 123, 95, 0.15); padding: 24px; border-radius: 12px; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -20px; right: -20px; font-size: 80px; opacity: 0.08; color: #a57b5f;"><i class="fas fa-user-tie"></i></div>
                        <div style="font-size: 36px; font-weight: bold; color: #7a5d47; margin-bottom: 8px;" id="total-peritos">0</div>
                        <div style="color: #a57b5f; font-weight: 500; font-size: 0.9em;">Peritos Cadastrados</div>
                    </div>
                    <!-- Automa√ß√µes - Tom Bege Rosado -->
                    <div style="background: linear-gradient(135deg, #f7ebe1 0%, #ecddd0 100%); border: 2px solid #dcc9b8; box-shadow: 0 4px 12px rgba(156, 116, 90, 0.15); padding: 24px; border-radius: 12px; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -20px; right: -20px; font-size: 80px; opacity: 0.08; color: #9c745a;"><i class="fas fa-robot"></i></div>
                        <div style="font-size: 36px; font-weight: bold; color: #735744; margin-bottom: 8px;" id="total-automacoes">0</div>
                        <div style="color: #9c745a; font-weight: 500; font-size: 0.9em;">Automa√ß√µes Executadas</div>
                    </div>
                    <!-- Status Sistema - Tom Verde Oliva Suave -->
                    <div style="background: linear-gradient(135deg, #e8f0e0 0%, #d9e5cc 100%); border: 2px solid #c9d9b8; box-shadow: 0 4px 12px rgba(118, 145, 90, 0.15); padding: 24px; border-radius: 12px; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -20px; right: -20px; font-size: 80px; opacity: 0.08; color: #76915a;"><i class="fas fa-heartbeat"></i></div>
                        <div style="font-size: 36px; font-weight: bold; color: #5a7044; margin-bottom: 8px;" id="status-sistema">‚úì</div>
                        <div style="color: #76915a; font-weight: 500; font-size: 0.9em;">Sistema Operacional</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Aba Peritos -->
        <div id="peritos" class="tab-content">
            <div class="section-header">
                <h2>Gerenciar Peritos</h2>
                <div class="button-group">
                    <button id="add-perito" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Adicionar Perito
                    </button>
                    <button id="import-peritos" class="btn btn-secondary">
                        <i class="fas fa-download"></i> Importar em Lote
                    </button>
                    <button id="show-import-example" class="btn btn-info">
                        <i class="fas fa-info-circle"></i> Exemplo de Importa√ß√£o
                    </button>
                    <button id="bulk-delete-peritos" class="btn btn-danger" disabled>
                        <i class="fas fa-trash-alt"></i> Excluir Selecionados
                    </button>
                </div>
            </div>

            <!-- Tabs Internas -->
            <div class="peritos-tabs">
                <button class="perito-tab-button active" data-perito-tab="lista">
                    <i class="fas fa-list"></i> Lista
                </button>
                <button class="perito-tab-button" data-perito-tab="automacao" id="perito-automacao-tab-btn">
                    <i class="fas fa-robot"></i> Automa√ß√£o
                    <span class="tab-badge" id="perito-automacao-tab-badge" style="display: none;">0</span>
                </button>
            </div>

            <!-- Tab Lista -->
            <div id="perito-lista-tab" class="perito-tab-content active">
                <!-- Informa√ß√µes sobre importa√ß√£o e vincula√ß√£o em lote -->
                <div class="info-panel" style="margin-bottom: 20px; padding: 15px; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px;">
                    <div style="display: flex; align-items: center; margin-bottom: 10px;">
                        <i class="fas fa-info-circle" style="color: #8b7355; margin-right: 8px;"></i>
                        <strong>Importa√ß√£o e Vincula√ß√£o em Lote</strong>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-size: 14px;">
                        <div>
                            <strong>‚úÖ Funcionalidades Implementadas:</strong>
                            <ul style="margin: 5px 0; padding-left: 20px;">
                                <li>Importar peritos em lote via arquivo JSON</li>
                                <li>Valida√ß√£o autom√°tica de dados</li>
                                <li>Sele√ß√£o m√∫ltipla para vincula√ß√£o</li>
                                <li>Vincula√ß√£o autom√°tica em lote</li>
                                <li>Relat√≥rios detalhados de progresso</li>
                            </ul>
                        </div>
                        <div>
                            <strong>üìã Como usar:</strong>
                            <ul style="margin: 5px 0; padding-left: 20px;">
                                <li>Use "Exemplo de Importa√ß√£o" para ver o formato</li>
                                <li>Clique em "Importar em Lote" para carregar arquivo</li>
                                <li>Selecione peritos usando checkboxes</li>
                                <li>V√° para aba "Automa√ß√£o" e inicie vincula√ß√£o</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="peritos-list">
                    <div class="table-container">
                        <table id="peritos-table">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="select-all"></th>
                                    <th>Nome</th>
                                    <th>CPF</th>
                                    <th>√ìrg√£os Julgadores</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="peritos-tbody">
                                <!-- Peritos ser√£o carregados aqui -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Tab Automa√ß√£o -->
            <div id="perito-automacao-tab" class="perito-tab-content">
                <div class="automation-controls">
                    <div class="automation-buttons">
                        <div class="automation-top-controls">
                            <div class="robot-icon">
                                <i class="fas fa-user-shield"></i>
                            </div>
                            <div class="button-row">
                                <button id="start-automation" class="btn btn-success" disabled>
                                    <i class="fas fa-play"></i> Iniciar Automa√ß√£o
                                </button>
                                <button id="pause-resume-automation" class="btn btn-warning" disabled>
                                    <i class="fas fa-pause"></i> Pausar
                                </button>
                            </div>
                        </div>

                        <div class="automation-status-indicator" id="perito-status-indicator">
                            <div class="status-badge status-idle">
                                <i class="fas fa-circle"></i>
                                <span class="status-text">INATIVO</span>
                            </div>
                            <div class="status-details" id="perito-status-details">
                                <span class="status-message">
                                    <i class="fas fa-circle-check"></i> Sistema pronto para automa√ß√£o
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="selected-peritos">
                        <div class="peritos-header">
                            <h3><i class="fas fa-user-shield"></i> Peritos na Fila de Processamento</h3>
                            <div id="selected-peritos-display" class="selection-info">
                                <i class="fas fa-list-check"></i>
                                <strong id="selected-peritos-count">0</strong> de <strong id="total-peritos-count">0</strong> peritos selecionados
                            </div>
                        </div>
                        <div id="selected-peritos-list" class="selected-list">
                            <p class="no-selection">
                                <i class="fas fa-inbox"></i>
                                <br>
                                Nenhum perito selecionado
                                <br>
                                <small>Marque os peritos acima que deseja processar</small>
                            </p>
                        </div>
                    </div>
                </div>

                <div class="status-panel">
                    <!-- Log de status para peritos -->
                    <div id="perito-status-log" class="status-log">
                        <!-- Status messages will be added dynamically -->
                    </div>
                </div>
            </div>

            <!-- Bot√£o Flutuante de A√ß√£o R√°pida -->
            <button id="quick-perito-automation-btn" class="quick-automation-fab" style="display: none;">
                <i class="fas fa-bolt"></i>
                <span class="fab-text">Iniciar Automa√ß√£o</span>
                <span class="fab-count" id="perito-fab-count">0</span>
            </button>
        </div>

        <!-- Aba Servidores -->
        <div id="servidores" class="tab-content">
            <div class="section-header" style="background: linear-gradient(135deg, #fefcf9 0%, #f5f1e8 100%); border: 2px solid #d4c4a8; border-radius: 12px; padding: 24px; box-shadow: 0 8px 20px rgba(139, 115, 85, 0.15), 0 4px 10px rgba(107, 84, 64, 0.1);">
                <h2 style="color: #6b5440;">Gerenciar Servidores</h2>
                <div class="button-group">
                    <button id="add-servidor" class="btn btn-primary" style="background: linear-gradient(135deg, #8b7355 0%, #a08770 100%) !important; border: 1px solid #6b5440 !important; color: #fff !important;">
                        <i class="fas fa-plus"></i> Adicionar Servidor
                    </button>

                    <button id="import-servidores-bulk" class="btn btn-secondary" style="background: linear-gradient(135deg, #8b7355 0%, #a08770 100%) !important; border: 1px solid #6b5440 !important; color: #fff !important;">
                        <i class="fas fa-download"></i> Importar em Lote
                    </button>
                    <button id="servidor-import-example" class="btn btn-info" style="background: linear-gradient(135deg, #8b7355 0%, #a08770 100%) !important; border: 1px solid #6b5440 !important; color: #fff !important;">
                        <i class="fas fa-info-circle"></i> Exemplo de Importa√ß√£o
                    </button>
                    <button id="bulk-delete-servidores" class="btn btn-danger" style="background: linear-gradient(135deg, #c9483b 0%, #d4624f 100%) !important; border: 1px solid #a83a2f !important; color: #fff !important;" disabled>
                        <i class="fas fa-trash-alt"></i> Excluir Selecionados
                    </button>
                </div>
            </div>

            <!-- Tabs Internas -->
            <div class="servidores-tabs">
                <button class="servidor-tab-button active" data-servidor-tab="lista">
                    <i class="fas fa-list"></i> Lista
                </button>
                <button class="servidor-tab-button" data-servidor-tab="compara-oj">
                    <i class="fas fa-server"></i> Compara/OJ
                </button>
                <button class="servidor-tab-button" data-servidor-tab="automacao" id="automacao-tab-btn">
                    <i class="fas fa-robot"></i> Automa√ß√£o
                    <span class="tab-badge" id="automacao-tab-badge" style="display: none;">0</span>
                </button>
            </div>

            <!-- Tab Lista -->
            <div id="servidor-lista-tab" class="servidor-tab-content active">
                <div class="servidores-list">
                <div class="table-container">
                    <table id="servidores-table">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="select-all-servidores"></th>
                                <th>Nome</th>
                                <th>CPF</th>
                                <th>Perfil</th>
                                <th>√ìrg√£os Julgadores</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="servidores-tbody">
                            <!-- Servidores ser√£o carregados aqui -->
                        </tbody>
                    </table>
                </div>
                </div>
            </div>

            <!-- Tab Compara/OJ -->
            <div id="servidor-compara-oj-tab" class="servidor-tab-content">
                <div class="multi-servidor-container">
                    <!-- Se√ß√£o de entrada de dados -->
                    <div class="input-section">
                        <h3><i class="fas fa-upload"></i> Dados dos Servidores</h3>
                        <div class="input-controls">
                            <button id="importarServidoresJSON" class="btn btn-secondary">
                                <i class="fas fa-file-import"></i> Importar JSON
                            </button>
                            <button id="mostrarFormato" class="btn btn-info">
                                <i class="fas fa-info-circle"></i> Ver Formato
                            </button>
                        </div>
                        <textarea
                            id="servidoresTextarea"
                            placeholder="Cole aqui os dados dos servidores no formato JSON ou use o bot√£o 'Importar JSON'..."
                            rows="10"
                        ></textarea>
                    </div>

                    <!-- Se√ß√£o de controles -->
                    <div class="controls-section">
                        <button id="verificarServidores" class="btn btn-primary">
                            <i class="fas fa-play"></i> Verificar Servidores
                        </button>
                        <button id="limparServidores" class="btn btn-secondary">
                            <i class="fas fa-trash"></i> Limpar
                        </button>
                        <button id="exportarResultados" class="btn btn-success" disabled>
                            <i class="fas fa-download"></i> Exportar Resultados
                        </button>
                    </div>

                    <!-- Barra de progresso -->
                    <div id="progressContainer" class="progress-container" style="display: none;">
                        <div class="progress-info">
                            <span id="progressText">Preparando verifica√ß√£o...</span>
                        </div>
                        <div class="progress-bar-container">
                            <div id="progressBar" class="progress-bar"></div>
                        </div>
                    </div>

                    <!-- Se√ß√£o de resultados -->
                    <div id="resultadosContainer" class="resultados-container">
                        <!-- Resultados ser√£o exibidos aqui -->
                    </div>
                </div>
            </div>

            <!-- Tab Automa√ß√£o -->
            <div id="servidor-automacao-tab" class="servidor-tab-content">
            <div class="automation-controls">
                <div class="automation-buttons">
                    <div class="automation-top-controls">
                        <div class="robot-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="button-row">
                            <button id="start-servidor-automation" class="btn btn-success" disabled>
                                <i class="fas fa-play"></i> Iniciar Automa√ß√£o
                            </button>
                            <button id="stop-servidor-automation" class="btn btn-danger" disabled>
                                <i class="fas fa-stop"></i> Parar
                            </button>
                            <button id="pause-resume-servidor-automation" class="btn btn-warning" disabled style="display:none">
                                <i class="fas fa-pause"></i> Pausar
                            </button>
                            <button id="resume-servidor-automation" class="btn btn-primary" style="display:none">
                                <i class="fas fa-play"></i> Prosseguir
                            </button>
                        </div>
                    </div>

                    <div class="automation-mode-selector">
                        <h4><i class="fas fa-gears"></i> Modo de Processamento</h4>
                        <div class="mode-options">
                            <label class="mode-option">
                                <input type="radio" name="automation-mode" value="sequential" checked>
                                <span class="mode-label">
                                    <i class="fas fa-forward-step"></i>
                                    <strong>Sequencial</strong>
                                    <small>Processa um servidor por vez de forma ordenada</small>
                                    <small class="mode-detail">‚ö° Mais est√°vel | üîí Menor chance de erros</small>
                                </span>
                            </label>
                            <label class="mode-option">
                                <input type="radio" name="automation-mode" value="parallel">
                                <span class="mode-label">
                                    <i class="fas fa-layer-group"></i>
                                    <strong>Paralelo</strong>
                                    <small>Processa m√∫ltiplos servidores ao mesmo tempo</small>
                                    <small class="mode-detail">üöÄ Mais r√°pido | ‚ö†Ô∏è Requer mais recursos</small>
                                </span>
                            </label>
                        </div>
                    </div>

                    <div id="parallel-config" class="parallel-config" style="display: none;">
                        <div class="config-row">
                            <label for="max-instances">
                                <i class="fas fa-server"></i> Inst√¢ncias Paralelas:
                            </label>
                            <select id="max-instances" class="form-control">
                                <option value="2" selected>2 inst√¢ncias (Recomendado)</option>
                                <option value="3">3 inst√¢ncias (Bom)</option>
                                <option value="4">4 inst√¢ncias (M√°ximo)</option>
                            </select>
                            <small class="config-help">
                                <i class="fas fa-info-circle"></i>
                                üí° <strong>Recomenda√ß√£o:</strong> 2-4 inst√¢ncias oferecem melhor equil√≠brio entre velocidade e estabilidade.
                            </small>
                        </div>
                    </div>

                    <div class="automation-status-indicator" id="servidor-status-indicator">
                        <div class="status-badge status-idle">
                            <i class="fas fa-circle"></i>
                            <span class="status-text">INATIVO</span>
                        </div>
                        <div class="status-details" id="servidor-status-details">
                            <span class="status-message">
                                <i class="fas fa-circle-check"></i> Sistema pronto para automa√ß√£o
                            </span>
                        </div>
                    </div>
                </div>

                <div class="selected-servidores">
                    <div class="servidores-header">
                        <h3><i class="fas fa-people-group"></i> Servidores na Fila de Processamento</h3>
                        <div class="servidores-header-actions">
                            <div id="selected-servidores-display" class="selection-info">
                                <i class="fas fa-list-check"></i>
                                <strong id="selected-count">0</strong> de <strong id="total-count">0</strong> servidores selecionados
                            </div>
                            <button id="clear-servidor-queue" class="btn btn-secondary btn-sm" style="display: none;">
                                <i class="fas fa-trash-alt"></i> Limpar Fila
                            </button>
                        </div>
                    </div>
                    <div id="selected-servidores-list" class="selected-list">
                        <p class="no-selection">
                            <i class="fas fa-inbox"></i>
                            <br>
                            Nenhum servidor selecionado
                            <br>
                            <small>Marque os servidores acima que deseja processar</small>
                        </p>
                    </div>
                </div>
            </div>

                <div class="status-panel">
                    <!-- Painel de Progresso em Tempo Real -->
                    <div id="live-progress-panel" class="live-progress-panel" style="display: none;">
                        <div class="live-progress-header">
                            <div class="server-info">
                                <i class="fas fa-user-circle"></i>
                                <span id="current-server-name">Aguardando...</span>
                            </div>
                            <div class="progress-stats">
                                <span id="progress-count">0/0</span>
                                <span id="progress-percentage">0%</span>
                            </div>
                        </div>

                        <div class="progress-bar-wrapper">
                            <div class="progress-bar-bg">
                                <div id="live-progress-bar" class="progress-bar-fill" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="oj-list-container">
                            <h4><i class="fas fa-list-check"></i> OJs Processadas</h4>
                            <ul id="live-oj-list" class="live-oj-list">
                                <!-- OJs will be added dynamically -->
                            </ul>
                        </div>
                    </div>

                    <!-- Log de status -->
                    <div id="status-log" class="status-log">
                        <!-- Status messages will be added dynamically -->
                    </div>
                </div>
            </div>

            <!-- Bot√£o Flutuante de A√ß√£o R√°pida -->
            <button id="quick-automation-btn" class="quick-automation-fab" style="display: none;">
                <i class="fas fa-bolt"></i>
                <span class="fab-text">Iniciar Automa√ß√£o</span>
                <span class="fab-count" id="fab-count">0</span>
            </button>
        </div>

        <!-- Aba Pesquisa Livre -->
        <div id="pesquisa-livre" class="tab-content">
            <div class="config-header-premium">
                <div class="header-content">
                    <div class="header-left">
                        <h2 class="config-title">
                            <i class="fas fa-database"></i>
                            <span>Pesquisa Livre SQL</span>
                        </h2>
                        <p class="config-subtitle">Execute queries SQL customizadas no banco de dados PJE</p>
                    </div>
                    <div class="header-right">
                        <button class="btn btn-test-connection" onclick="app.testarConexaoPesquisaLivre()" title="Testar conex√£o com o banco de dados">
                            <i class="fas fa-plug"></i> Testar Conex√£o
                        </button>
                        <span id="statusConexaoPesquisaLivre" class="connection-status checking">
                            <i class="fas fa-question-circle"></i> Verificando...
                        </span>
                    </div>
                </div>
            </div>

            <div class="config-container">
                <!-- Layout Compacto: Toolbar + Editor + Sidebar -->
                <div class="sql-workspace">
                    <!-- Sidebar Esquerda: A√ß√µes R√°pidas -->
                    <div class="sql-sidebar">
                        <div class="sql-sidebar-header">
                            <i class="fas fa-bolt"></i>
                            <span>A√ß√µes</span>
                        </div>

                        <div class="sql-actions-vertical">
                            <button class="btn-action btn-action-primary" onclick="app.executarQueryCustomizada()" title="Ctrl+Enter">
                                <i class="fas fa-play"></i>
                                <span>Executar</span>
                            </button>
                            <button class="btn-action btn-action-success" onclick="app.obterSugestoesAI()" title="Sugest√µes IA">
                                <i class="fas fa-wand-magic-sparkles"></i>
                                <span>IA</span>
                            </button>
                            <button class="btn-action btn-action-warning" onclick="app.abrirDialogoFavoritar()" title="Ctrl+S">
                                <i class="fas fa-star"></i>
                                <span>Salvar</span>
                            </button>
                            <button class="btn-action btn-action-secondary" onclick="app.limparEditorSQL()">
                                <i class="fas fa-eraser"></i>
                                <span>Limpar</span>
                            </button>
                            <button class="btn-action btn-action-info" onclick="app.exportarResultadosSQL()">
                                <i class="fas fa-download"></i>
                                <span>Exportar</span>
                            </button>
                            <button class="btn-action btn-action-dark" onclick="app.listarBancosDisponiveis()">
                                <i class="fas fa-database"></i>
                                <span>Bancos</span>
                            </button>
                        </div>

                        <div class="sql-sidebar-section">
                            <label class="sidebar-label">
                                <i class="fas fa-server"></i> Banco
                            </label>
                            <select id="selectGrauPesquisa" class="form-control-compact">
                                <option value="1">1¬∫ Grau</option>
                                <option value="2">2¬∫ Grau</option>
                            </select>
                        </div>

                        <div class="sql-sidebar-section">
                            <label class="sidebar-label">
                                <i class="fas fa-bookmark"></i> Favoritas
                            </label>
                            <select id="queryFavoritaSelect" class="form-control-compact" onchange="app.carregarQueryFavorita()">
                                <option value="">Selecione...</option>
                            </select>
                        </div>

                        <div class="sql-sidebar-footer">
                            <button class="btn-sidebar-action" onclick="app.removerQueryFavorita()" title="Remover">
                                <i class="fas fa-trash"></i>
                            </button>
                            <button class="btn-sidebar-action" onclick="app.importarQuerysExemplo()" title="Exemplos">
                                <i class="fas fa-download"></i>
                            </button>
                        </div>
                    </div>

                    <!-- √Årea Principal: Editor + Favoritar -->
                    <div class="sql-main">
                        <!-- Toolbar Compacta -->
                        <div class="sql-toolbar">
                            <div class="sql-toolbar-left">
                                <i class="fas fa-code"></i>
                                <span class="sql-toolbar-title">Editor SQL</span>
                                <span class="sql-toolbar-hint">
                                    <kbd>Tab</kbd> / <kbd>Enter</kbd> para autocomplete
                                </span>
                            </div>
                            <div class="sql-toolbar-right">
                                <span class="keyboard-shortcut-mini">
                                    <kbd>Ctrl+Enter</kbd> Executar
                                </span>
                                <span class="keyboard-shortcut-mini">
                                    <kbd>Ctrl+S</kbd> Salvar
                                </span>
                            </div>
                        </div>

                        <!-- Editor SQL -->
                        <div class="sql-editor-wrapper" style="position: relative;">
                            <textarea id="sqlQueryInput" class="sql-editor" rows="14" placeholder="Exemplo:
SELECT p.nr_processo, oj.ds_orgao_julgador
FROM pje.tb_processo p
JOIN pje.tb_processo_trf pt ON pt.id_processo_trf = p.id_processo
JOIN pje.tb_orgao_julgador oj ON oj.id_orgao_julgador = pt.id_orgao_julgador
LIMIT 100;"></textarea>
                        </div>

                        <!-- Painel de Favoritar (Expans√≠vel) -->
                        <div class="sql-favorite-panel" id="sqlFavoritePanel" style="display: none;">
                            <div class="favorite-panel-header">
                                <h4><i class="fas fa-star"></i> Salvar como Favorita</h4>
                                <button class="btn-close-panel" onclick="document.getElementById('sqlFavoritePanel').style.display='none'">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="favorite-panel-body">
                                <div class="form-row-compact">
                                    <div class="form-group-inline">
                                        <label><i class="fas fa-tag"></i> Nome</label>
                                        <input type="text" id="nomeFavorita" class="form-control-compact" placeholder="Nome da query...">
                                    </div>
                                    <div class="form-group-inline form-group-small">
                                        <label><i class="fas fa-folder"></i> Categoria</label>
                                        <input type="text" id="categoriaFavorita" class="form-control-compact" placeholder="Categoria" value="Geral">
                                    </div>
                                </div>
                                <div class="form-group-inline">
                                    <label><i class="fas fa-align-left"></i> Descri√ß√£o</label>
                                    <textarea id="descricaoFavorita" class="form-control-compact" rows="2" placeholder="Breve descri√ß√£o..."></textarea>
                                </div>
                                <div class="form-row-compact">
                                    <div class="form-group-inline">
                                        <label><i class="fas fa-tags"></i> Tags</label>
                                        <input type="text" id="tagsFavorita" class="form-control-compact" placeholder="Ex: processo, vara">
                                    </div>
                                    <button class="btn btn-success" onclick="app.salvarQueryFavorita()">
                                        <i class="fas fa-save"></i> Salvar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- √Årea de Resultados -->
                <div class="config-section">
                    <div class="section-header">
                        <h3><i class="fas fa-table"></i> Resultados</h3>
                        <p class="section-help" id="infoResultadosSQL">Execute uma query para ver os resultados</p>
                    </div>

                    <div id="resultadosQueryCustomizada" class="query-results-container">
                        <div class="empty-state" id="emptyStatePesquisaLivre">
                            <i class="fas fa-database"></i>
                            <p>Nenhuma query executada ainda</p>
                            <small>Digite uma query SQL e clique em "Executar Query"</small>
                        </div>
                    </div>
                </div>

                <!-- Avisos de Seguran√ßa -->
                <div class="config-section">
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle"></i>
                        <strong>Aten√ß√£o:</strong> Voc√™ est√° executando queries diretamente no banco de dados.
                        Evite usar comandos destrutivos como DELETE, DROP, UPDATE sem WHERE.
                    </div>
                </div>
            </div>
        </div>

        <!-- Aba Configura√ß√µes -->
        <div id="config" class="tab-content">
            <!-- Header Premium -->
            <div class="config-header-premium">
                <div class="header-content">
                    <div class="header-left">
                        <h2 class="config-title">
                            <i class="fas fa-sliders-h"></i>
                            <span>Central de Configura√ß√µes</span>
                        </h2>
                        <p class="config-subtitle">Gerencie todas as configura√ß√µes do sistema em um s√≥ lugar</p>
                    </div>
                    <div class="header-right">
                        <div class="system-status">
                            <div class="status-indicator active"></div>
                            <span>Sistema Operacional</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="config-tabs">
                <button class="config-tab-button active" data-config-tab="sistema">Sistema</button>
            </div>
            
            <!-- Configura√ß√µes Grid Layout -->
            <div id="sistema-config" class="config-section active">
                <div class="config-grid-container">
                    <!-- Card PJE - Lado Esquerdo -->
                    <div class="config-card elite">
                        <div class="card-header-premium">
                            <div class="header-icon-wrapper pje">
                                <i class="fas fa-scale-balanced"></i>
                            </div>
                            <div class="header-text">
                                <h3>Configura√ß√µes do PJE</h3>
                                <span class="card-badge">Autentica√ß√£o</span>
                            </div>
                        </div>
                        
                        <div class="card-body-premium">
                            <form id="config-form" class="premium-form">
                                <div class="form-group-premium">
                                    <div class="input-wrapper">
                                        <i class="fas fa-earth-americas input-icon"></i>
                                        <input type="url" id="pje-url" name="PJE_URL" placeholder="https://pje.exemplo.com.br" required>
                                        <label for="pje-url" class="floating-label">URL do PJE</label>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group-premium">
                                        <div class="input-wrapper">
                                            <i class="fas fa-id-card input-icon"></i>
                                            <input type="text" id="login" name="LOGIN" placeholder="CPF ou Login" required autocomplete="username" autocapitalize="off" spellcheck="false">
                                            <label for="login" class="floating-label">Usu√°rio</label>
                                        </div>
                                    </div>

                                    <div class="form-group-premium">
                                        <div class="input-wrapper has-toggle">
                                            <i class="fas fa-shield-halved input-icon"></i>
                                            <input type="password" id="password" name="PASSWORD" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required autocomplete="current-password" autocapitalize="off" spellcheck="false">
                                            <label for="password" class="floating-label">Senha</label>
                                            <button type="button" class="toggle-password" title="Mostrar senha" data-target="#password">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="card-footer-actions">
                                    <button type="submit" class="btn-premium primary">
                                        <i class="fas fa-floppy-disk"></i>
                                        <span>Salvar Configura√ß√µes</span>
                                        <div class="btn-glow"></div>
                                    </button>
                                    <div class="last-saved">
                                        <i class="fas fa-clock"></i>
                                        <span>√öltima atualiza√ß√£o: Nunca</span>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Card Banco de Dados - Lado Direito -->
                    <div class="config-card elite">
                        <div class="card-header-premium">
                            <div class="header-icon-wrapper database">
                                <i class="fas fa-server"></i>
                            </div>
                            <div class="header-text">
                                <h3>Banco de Dados</h3>
                                <span class="card-badge">PostgreSQL</span>
                            </div>
                            <div class="connection-status" id="db-connection-status">
                                <div class="status-dot"></div>
                                <span>Desconectado</span>
                            </div>
                        </div>

                        <div class="card-body-premium">
                            <!-- Aviso sobre VPN -->
                            <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e3f2fd; border-left: 4px solid #2196f3; border-radius: 4px;">
                                <div style="display: flex; align-items: start; gap: 0.75rem;">
                                    <i class="fas fa-info-circle" style="color: #2196f3; margin-top: 2px;"></i>
                                    <div style="flex: 1;">
                                        <strong style="color: #1976d2; display: block; margin-bottom: 0.5rem;">‚ö†Ô∏è Requisito de Conex√£o VPN</strong>
                                        <p style="margin: 0; color: #555; font-size: 0.9rem; line-height: 1.5;">
                                            Para acessar o banco de dados r√©plica do TRT15, √© necess√°rio estar <strong>conectado √† VPN do TRT15</strong>.
                                            Certifique-se de que a VPN est√° ativa antes de testar a conex√£o.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <form id="database-config-form" class="premium-form">
                                <div class="form-row">
                                    <div class="form-group-premium flex-3">
                                        <div class="input-wrapper">
                                            <i class="fas fa-server input-icon"></i>
                                            <input type="text" id="dbHost" placeholder="localhost" value="localhost">
                                            <label for="dbHost" class="floating-label">Host</label>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group-premium flex-1">
                                        <div class="input-wrapper">
                                            <i class="fas fa-plug input-icon"></i>
                                            <input type="number" id="dbPort" placeholder="5432" value="5432">
                                            <label for="dbPort" class="floating-label">Porta</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group-premium">
                                        <div class="input-wrapper">
                                            <i class="fas fa-user-gear input-icon"></i>
                                            <input type="text" id="dbUser" placeholder="postgres" autocomplete="username" autocapitalize="off" spellcheck="false">
                                            <label for="dbUser" class="floating-label">Usu√°rio</label>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group-premium">
                                        <div class="input-wrapper has-toggle">
                                            <i class="fas fa-shield-halved input-icon"></i>
                                            <input type="password" id="dbPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password" autocapitalize="off" spellcheck="false">
                                            <label for="dbPassword" class="floating-label">Senha</label>
                                            <button type="button" class="toggle-password" title="Mostrar senha" data-target="#dbPassword">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="database-graus">
                                    <div class="grau-header">
                                        <i class="fas fa-sitemap"></i>
                                        <span>Configura√ß√µes por Grau</span>
                                    </div>
                                    
                                    <!-- 1¬∫ Grau -->
                                    <div class="grau-section">
                                        <div class="grau-title">
                                            <span class="grau-badge">1¬∫</span>
                                            <span>Primeiro Grau</span>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group-premium">
                                                <div class="input-wrapper grau-1">
                                                    <i class="fas fa-server input-icon"></i>
                                                    <input type="text" id="dbHost1Grau" placeholder="pje-dbpr-a1-replica" value="pje-dbpr-a1-replica">
                                                    <label for="dbHost1Grau" class="floating-label">Host 1¬∫ Grau</label>
                                                </div>
                                            </div>
                                            <div class="form-group-premium">
                                                <div class="input-wrapper grau-1">
                                                    <i class="fas fa-database input-icon"></i>
                                                    <input type="text" id="dbDatabase1Grau" placeholder="pje_1grau" value="pje_1grau">
                                                    <label for="dbDatabase1Grau" class="floating-label">Base 1¬∫ Grau</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 2¬∫ Grau -->
                                    <div class="grau-section">
                                        <div class="grau-title">
                                            <span class="grau-badge">2¬∫</span>
                                            <span>Segundo Grau</span>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group-premium">
                                                <div class="input-wrapper grau-2">
                                                    <i class="fas fa-server input-icon"></i>
                                                    <input type="text" id="dbHost2Grau" placeholder="pje-dbpr-a2-replica" value="pje-dbpr-a2-replica">
                                                    <label for="dbHost2Grau" class="floating-label">Host 2¬∫ Grau</label>
                                                </div>
                                            </div>
                                            <div class="form-group-premium">
                                                <div class="input-wrapper grau-2">
                                                    <i class="fas fa-database input-icon"></i>
                                                    <input type="text" id="dbDatabase2Grau" placeholder="pje_2grau" value="pje_2grau">
                                                    <label for="dbDatabase2Grau" class="floating-label">Base 2¬∫ Grau</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="card-footer-actions">
                                    <button type="button" id="testDbConnection" class="btn-premium secondary">
                                        <i class="fas fa-plug"></i>
                                        <span>Testar Conex√£o</span>
                                    </button>
                                    <button type="button" id="saveDbCredentials" class="btn-premium primary">
                                        <i class="fas fa-floppy-disk"></i>
                                        <span>Salvar Credenciais</span>
                                        <div class="btn-glow"></div>
                                    </button>
                                </div>
                            </form>
                            
                            <div id="dbStatus" class="connection-result hidden">
                                <div class="result-content">
                                    <i class="fas fa-circle-check"></i>
                                    <span id="dbStatusText">Conex√£o estabelecida com sucesso!</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Se√ß√£o de Controle Avan√ßado -->
                <div class="advanced-controls-section">
                    <div class="section-header-premium">
                        <h3>
                            <i class="fas fa-screwdriver-wrench"></i>
                            Controles Avan√ßados
                        </h3>
                    </div>
                    
                    <div class="controls-grid">
                        <!-- Card Cache -->
                        <div class="control-card">
                            <div class="control-icon cache">
                                <i class="fas fa-memory"></i>
                            </div>
                            <div class="control-content">
                                <h4>Gerenciamento de Cache</h4>
                                <p>Otimize o desempenho limpando dados em cache</p>
                                <div class="cache-info">
                                    <div class="info-item">
                                        <span class="label">Tamanho atual:</span>
                                        <span class="value" id="cache-size-display">Carregando...</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="label">√öltima limpeza:</span>
                                        <span class="value" id="cache-last-clear">Carregando...</span>
                                    </div>
                                </div>
                                <button type="button" id="limparCacheOJs" class="btn-premium warning">
                                    <i class="fas fa-broom"></i>
                                    <span>Limpar Cache</span>
                                </button>
                            </div>
                        </div>

                        <!-- Card Backup -->
                        <div class="control-card">
                            <div class="control-icon backup">
                                <i class="fas fa-archive"></i>
                            </div>
                            <div class="control-content">
                                <h4>Backup e Restaura√ß√£o</h4>
                                <p>Fa√ßa backup das configura√ß√µes e dados</p>
                                <div class="backup-actions">
                                    <button type="button" class="btn-premium secondary">
                                        <i class="fas fa-download"></i>
                                        <span>Exportar Backup</span>
                                    </button>
                                    <button type="button" class="btn-premium outline">
                                        <i class="fas fa-upload"></i>
                                        <span>Restaurar</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Card Logs -->
                        <div class="control-card">
                            <div class="control-icon logs">
                                <i class="fas fa-clipboard-list"></i>
                            </div>
                            <div class="control-content">
                                <h4>Logs do Sistema</h4>
                                <p>Acompanhe as atividades e erros do sistema</p>
                                <div class="logs-preview" id="logs-preview-container">
                                    <div class="log-entry info">
                                        <i class="fas fa-info-circle"></i>
                                        <span>Nenhum log dispon√≠vel ainda</span>
                                    </div>
                                </div>
                                <button type="button" id="viewAllLogsBtn" class="btn-premium outline">
                                    <i class="fas fa-eye"></i>
                                    <span>Ver Todos</span>
                                </button>
                            </div>
                        </div>

                        <!-- Card Performance -->
                        <div class="control-card">
                            <div class="control-icon performance">
                                <i class="fas fa-tachometer-alt"></i>
                            </div>
                            <div class="control-content">
                                <h4>Performance</h4>
                                <p>Monitor de desempenho em tempo real</p>
                                <div class="performance-meters">
                                    <div class="meter">
                                        <div class="meter-label">CPU</div>
                                        <div class="meter-bar">
                                            <div class="meter-fill" style="width: 35%"></div>
                                        </div>
                                        <span class="meter-value">35%</span>
                                    </div>
                                    <div class="meter">
                                        <div class="meter-label">RAM</div>
                                        <div class="meter-bar">
                                            <div class="meter-fill" style="width: 62%"></div>
                                        </div>
                                        <span class="meter-value">62%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Footer com informa√ß√µes -->
                <div class="config-footer-info">
                    <div class="info-card">
                        <i class="fas fa-shield-alt"></i>
                        <span>Todas as senhas s√£o criptografadas localmente</span>
                    </div>
                    <div class="info-card">
                        <i class="fas fa-sync"></i>
                        <span>Configura√ß√µes sincronizadas automaticamente</span>
                    </div>
                    <div class="info-card">
                        <i class="fas fa-question-circle"></i>
                        <span>Precisa de ajuda? <a href="#" class="help-link">Documenta√ß√£o</a></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Aba Processos/Tarefa -->
        <div id="processos-tarefa" class="tab-content">
            <!-- Banner Informativo -->
            <div class="bugfix-banner" id="bugfixBannerProcessos">
                <div class="bugfix-banner-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="bugfix-banner-content">
                    <div class="bugfix-banner-title">
                        <i class="fas fa-database"></i> Dados do Banco R√©plica
                    </div>
                    <div class="bugfix-banner-text">
                        Os dados exibidos s√£o baseados no banco r√©plica.
                    </div>
                </div>
                <button class="bugfix-banner-close" onclick="app.hideBugfixBanner('bugfixBannerProcessos')" title="Fechar aviso">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="section-header">
                <h2>Consultas Processuais</h2>
                <p>Consultas pr√©-definidas e √∫teis para 1¬∫ e 2¬∫ graus</p>
            </div>

            <!-- Sub-abas por grau -->
            <div class="config-tabs">
                <button class="config-tab-button active" data-config-tab="consultas1grau">
                    <i class="fas fa-gavel"></i> 1¬∫ Grau
                </button>
                <button class="config-tab-button" data-config-tab="consultas2grau">
                    <i class="fas fa-balance-scale"></i> 2¬∫ Grau
                </button>
                <button class="config-tab-button" data-config-tab="consultaindividual">
                    <i class="fas fa-magnifying-glass"></i> Busca Individual
                </button>
            </div>

            <!-- ========== 1¬∫ GRAU ========== -->
            <div id="consultas1grau-config" class="config-section active">
                <div class="section-info">
                    <p><i class="fas fa-info-circle"></i> Consultas prontas para facilitar seu trabalho no 1¬∫ grau</p>
                </div>

                <!-- Controle de Limite -->
                <div class="query-limit-control">
                    <label for="limite1Grau">
                        <i class="fas fa-sliders-h"></i> Limite de resultados:
                    </label>
                    <select id="limite1Grau" class="form-control" style="width: 150px;">
                        <option value="50">50 resultados</option>
                        <option value="100" selected>100 resultados</option>
                        <option value="200">200 resultados</option>
                        <option value="500">500 resultados</option>
                        <option value="1000">1000 resultados</option>
                    </select>
                    <small class="config-help">
                        <i class="fas fa-info-circle"></i> Limite menor = consulta mais r√°pida
                    </small>
                </div>

                <!-- Busca Avan√ßada -->
                <div class="advanced-search-section">
                    <h3 class="category-title">
                        <i class="fas fa-search"></i> Busca Avan√ßada de Processos
                        <span id="statusConexao1Grau" class="connection-status" title="Verificando conex√£o...">
                            <i class="fas fa-circle-notch fa-spin"></i> Verificando...
                        </span>
                    </h3>
                    <div class="search-filters">
                        <div class="filter-row">
                            <div class="filter-group">
                                <label for="filtroDataInicio1Grau">
                                    <i class="fas fa-calendar"></i> Data In√≠cio
                                </label>
                                <input type="date" id="filtroDataInicio1Grau" class="form-control">
                            </div>
                            <div class="filter-group">
                                <label for="filtroDataFim1Grau">
                                    <i class="fas fa-calendar"></i> Data Fim
                                </label>
                                <input type="date" id="filtroDataFim1Grau" class="form-control">
                            </div>
                        </div>
                        <div class="filter-row">
                            <div class="filter-group">
                                <label for="filtroNumeroProcesso1Grau">
                                    <i class="fas fa-file-alt"></i> N√∫mero do Processo
                                </label>
                                <input type="text" id="filtroNumeroProcesso1Grau" class="form-control"
                                       placeholder="Ex: 0001234-56.2024.5.15.0001">
                            </div>
                            <div class="filter-group">
                                <label for="filtroOrgaoJulgador1Grau">
                                    <i class="fas fa-building"></i> √ìrg√£o Julgador
                                </label>
                                <select id="filtroOrgaoJulgador1Grau" class="form-control">
                                    <option value="">Carregando...</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="btn btn-primary" onclick="app.executarBuscaAvancada('1')">
                                <i class="fas fa-search"></i> Buscar
                            </button>
                            <button class="btn btn-secondary" onclick="app.limparFiltros('1')">
                                <i class="fas fa-eraser"></i> Limpar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Categoria: Audi√™ncias -->
                <div class="query-category">
                    <h3 class="category-title">
                        <i class="fas fa-calendar-check"></i> Audi√™ncias
                    </h3>
                    <div class="query-grid">
                        <div class="query-card" onclick="app.executeQuery('audienciasHoje', '1')">
                            <div class="query-icon">
                                <i class="fas fa-calendar-day"></i>
                            </div>
                            <div class="query-info">
                                <h4>Audi√™ncias Hoje</h4>
                                <p>Audi√™ncias marcadas para hoje</p>
                            </div>
                            <button class="query-btn">
                                <i class="fas fa-play"></i> Executar
                            </button>
                        </div>

                        <div class="query-card" onclick="app.executeQuery('audienciasSemana', '1')">
                            <div class="query-icon">
                                <i class="fas fa-calendar-week"></i>
                            </div>
                            <div class="query-info">
                                <h4>Audi√™ncias da Semana</h4>
                                <p>Pr√≥ximos 7 dias</p>
                            </div>
                            <button class="query-btn">
                                <i class="fas fa-play"></i> Executar
                            </button>
                        </div>

                        <div class="query-card" onclick="app.executeQuery('audienciasMes', '1')">
                            <div class="query-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="query-info">
                                <h4>Audi√™ncias do M√™s</h4>
                                <p>M√™s atual completo</p>
                            </div>
                            <button class="query-btn">
                                <i class="fas fa-play"></i> Executar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Categoria: Distribui√ß√£o -->
                <div class="query-category">
                    <h3 class="category-title">
                        <i class="fas fa-inbox"></i> Distribui√ß√£o
                    </h3>
                    <div class="query-grid">
                        <div class="query-card" onclick="app.executeQuery('distribuicaoHoje', '1')">
                            <div class="query-icon">
                                <i class="fas fa-file-circle-plus"></i>
                            </div>
                            <div class="query-info">
                                <h4>Distribu√≠dos Hoje</h4>
                                <p>Processos distribu√≠dos hoje</p>
                            </div>
                            <button class="query-btn">
                                <i class="fas fa-play"></i> Executar
                            </button>
                        </div>

                        <div class="query-card" onclick="app.executeQuery('distribuicaoSemana', '1')">
                            <div class="query-icon">
                                <i class="fas fa-file-import"></i>
                            </div>
                            <div class="query-info">
                                <h4>Distribu√≠dos na Semana</h4>
                                <p>√öltimos 7 dias</p>
                            </div>
                            <button class="query-btn">
                                <i class="fas fa-play"></i> Executar
                            </button>
                        </div>

                        <div class="query-card" onclick="app.executeQuery('distribuicaoMes', '1')">
                            <div class="query-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="query-info">
                                <h4>Distribu√≠dos no M√™s</h4>
                                <p>M√™s atual com estat√≠sticas</p>
                            </div>
                            <button class="query-btn">
                                <i class="fas fa-play"></i> Executar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Categoria: Tarefas -->
                <div class="query-category">
                    <h3 class="category-title">
                        <i class="fas fa-tasks"></i> Tarefas
                    </h3>
                    <div class="query-grid">
                        <div class="query-card-full" id="query-tarefa-especifica">
                            <div class="query-card-header">
                                <div class="query-icon">
                                    <i class="fas fa-list-check"></i>
                                </div>
                                <h4>Processos em Tarefa</h4>
                            </div>
                            <div class="query-filters-grid">
                                <div class="filter-group">
                                    <label for="numeroProcesso1G">
                                        <i class="fas fa-file-lines"></i> N√∫mero do Processo
                                    </label>
                                    <input type="text" id="numeroProcesso1G" placeholder="Ex: 0001234-56.2023.5.15.0001" class="query-input">
                                </div>
                                <div class="filter-group">
                                    <label for="nomeTarefa1G">
                                        <i class="fas fa-tasks"></i> Nome da Tarefa
                                    </label>
                                    <input type="text" id="nomeTarefa1G" placeholder="Ex: An√°lise de Peti√ß√£o" class="query-input">
                                </div>
                                <div class="filter-group">
                                    <label for="dataTarefa1G">
                                        <i class="fas fa-calendar"></i> Data da Tarefa
                                    </label>
                                    <input type="date" id="dataTarefa1G" class="query-input">
                                </div>
                            </div>
                            <div class="query-actions">
                                <button class="query-btn-primary" onclick="app.executeQueryTarefa('1')">
                                    <i class="fas fa-search"></i> Buscar
                                </button>
                                <button class="query-btn-secondary" onclick="app.limparFiltrosTarefa('1')">
                                    <i class="fas fa-eraser"></i> Limpar
                                </button>
                            </div>
                        </div>

                        <div class="query-card" onclick="app.executeQuery('tarefasPorVara', '1')">
                            <div class="query-icon">
                                <i class="fas fa-building-columns"></i>
                            </div>
                            <div class="query-info">
                                <h4>Tarefas por Vara</h4>
                                <p>Agrupamento por √≥rg√£o julgador</p>
                            </div>
                            <button class="query-btn">
                                <i class="fas fa-play"></i> Executar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Status 1¬∫ Grau -->
                <div id="status1Grau" class="status-banner hidden">
                    <i class="fas fa-spinner fa-spin"></i> Executando consulta...
                </div>

                <!-- Resultados 1¬∫ Grau -->
                <div id="resultado1Grau" class="query-results hidden">
                    <div class="results-header">
                        <h4 id="resultado1GrauTitle"><span id="contador1Grau">0 resultado(s)</span></h4>
                        <button class="btn btn-secondary" onclick="app.exportQueryResults('1')">
                            <i class="fas fa-download"></i> Exportar JSON
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="data-table" id="tabela1Grau">
                            <thead><tr></tr></thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <div class="empty-hint" id="vazio1Grau" style="display:none">
                        Nenhum resultado encontrado
                    </div>
                </div>
            </div>

            <!-- ========== 2¬∫ GRAU ========== -->
            <div id="consultas2grau-config" class="config-section">
                <div class="section-info">
                    <p><i class="fas fa-info-circle"></i> Consultas prontas para facilitar seu trabalho no 2¬∫ grau</p>
                </div>

                <!-- Controle de Limite -->
                <div class="query-limit-control">
                    <label for="limite2Grau">
                        <i class="fas fa-sliders-h"></i> Limite de resultados:
                    </label>
                    <select id="limite2Grau" class="form-control" style="width: 150px;">
                        <option value="50">50 resultados</option>
                        <option value="100" selected>100 resultados</option>
                        <option value="200">200 resultados</option>
                        <option value="500">500 resultados</option>
                        <option value="1000">1000 resultados</option>
                    </select>
                    <small class="config-help">
                        <i class="fas fa-info-circle"></i> Limite menor = consulta mais r√°pida
                    </small>
                </div>

                <!-- Busca Avan√ßada de Sess√µes -->
                <div class="advanced-search-section">
                    <h3 class="category-title">
                        <i class="fas fa-search"></i> Busca Avan√ßada de Sess√µes
                        <span id="statusConexao2Grau" class="connection-status" title="Verificando conex√£o...">
                            <i class="fas fa-circle-notch fa-spin"></i> Verificando...
                        </span>
                    </h3>
                    <div class="search-filters">
                        <div class="filter-row">
                            <div class="filter-group">
                                <label for="filtroDataInicio2Grau">
                                    <i class="fas fa-calendar"></i> Data In√≠cio
                                </label>
                                <input type="date" id="filtroDataInicio2Grau" class="form-control">
                            </div>
                            <div class="filter-group">
                                <label for="filtroDataFim2Grau">
                                    <i class="fas fa-calendar"></i> Data Fim
                                </label>
                                <input type="date" id="filtroDataFim2Grau" class="form-control">
                            </div>
                        </div>
                        <div class="filter-row">
                            <div class="filter-group" style="flex: 1;">
                                <label for="filtroOrgaoJulgador2Grau">
                                    <i class="fas fa-building"></i> √ìrg√£o Julgador
                                </label>
                                <select id="filtroOrgaoJulgador2Grau" class="form-control">
                                    <option value="">Carregando...</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="btn btn-primary" onclick="app.executarBuscaAvancada('2')">
                                <i class="fas fa-search"></i> Buscar Sess√µes
                            </button>
                            <button class="btn btn-secondary" onclick="app.limparFiltros('2')">
                                <i class="fas fa-eraser"></i> Limpar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Categoria: Sess√µes -->
                <div class="query-category">
                    <h3 class="category-title">
                        <i class="fas fa-people-roof"></i> Sess√µes de Julgamento
                    </h3>
                    <div class="query-grid">
                        <div class="query-card" onclick="app.executeQuery('sessoesHoje', '2')">
                            <div class="query-icon">
                                <i class="fas fa-calendar-day"></i>
                            </div>
                            <div class="query-info">
                                <h4>Sess√µes Hoje</h4>
                                <p>Sess√µes de julgamento de hoje</p>
                            </div>
                            <button class="query-btn">
                                <i class="fas fa-play"></i> Executar
                            </button>
                        </div>

                        <div class="query-card" onclick="app.executeQuery('sessoesSemana', '2')">
                            <div class="query-icon">
                                <i class="fas fa-calendar-week"></i>
                            </div>
                            <div class="query-info">
                                <h4>Sess√µes da Semana</h4>
                                <p>Pr√≥ximos 7 dias</p>
                            </div>
                            <button class="query-btn">
                                <i class="fas fa-play"></i> Executar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Categoria: Processos -->
                <div class="query-category">
                    <h3 class="category-title">
                        <i class="fas fa-folder-open"></i> Processos
                    </h3>
                    <div class="query-grid">
                        <div class="query-card-full" id="query-tarefa-especifica-2g">
                            <div class="query-card-header">
                                <div class="query-icon">
                                    <i class="fas fa-list-check"></i>
                                </div>
                                <h4>Processos em Tarefa</h4>
                            </div>
                            <div class="query-filters-grid">
                                <div class="filter-group">
                                    <label for="numeroProcesso2G">
                                        <i class="fas fa-file-lines"></i> N√∫mero do Processo
                                    </label>
                                    <input type="text" id="numeroProcesso2G" placeholder="Ex: 0001234-56.2023.5.15.0001" class="query-input">
                                </div>
                                <div class="filter-group">
                                    <label for="nomeTarefa2G">
                                        <i class="fas fa-tasks"></i> Nome da Tarefa
                                    </label>
                                    <input type="text" id="nomeTarefa2G" placeholder="Ex: An√°lise de Peti√ß√£o" class="query-input">
                                </div>
                                <div class="filter-group">
                                    <label for="dataTarefa2G">
                                        <i class="fas fa-calendar"></i> Data da Tarefa
                                    </label>
                                    <input type="date" id="dataTarefa2G" class="query-input">
                                </div>
                            </div>
                            <div class="query-actions">
                                <button class="query-btn-primary" onclick="app.executeQueryTarefa('2')">
                                    <i class="fas fa-search"></i> Buscar
                                </button>
                                <button class="query-btn-secondary" onclick="app.limparFiltrosTarefa('2')">
                                    <i class="fas fa-eraser"></i> Limpar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Status 2¬∫ Grau -->
                <div id="status2Grau" class="status-banner hidden">
                    <i class="fas fa-spinner fa-spin"></i> Executando consulta...
                </div>

                <!-- Resultados 2¬∫ Grau -->
                <div id="resultado2Grau" class="query-results hidden">
                    <div class="results-header">
                        <h4 id="resultado2GrauTitle"><span id="contador2Grau">0 resultado(s)</span></h4>
                        <button class="btn btn-secondary" onclick="app.exportQueryResults('2')">
                            <i class="fas fa-download"></i> Exportar JSON
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="data-table" id="tabela2Grau">
                            <thead><tr></tr></thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <div class="empty-hint" id="vazio2Grau" style="display:none">
                        Nenhum resultado encontrado
                    </div>
                </div>
            </div>

            <!-- ========== BUSCA INDIVIDUAL ========== -->
            <div id="consultaindividual-config" class="config-section">
                <div class="section-info">
                    <p><i class="fas fa-folder-open"></i> Consulte hist√≥rico, tarefa atual e partes de um processo pelo n√∫mero.</p>
                </div>

                <div class="search-filters">
                    <div class="form-group" style="flex: 2;">
                        <label for="nrProcessoInput">N√∫mero do Processo:</label>
                        <input type="text" id="nrProcessoInput" placeholder="Ex.: 0127500-72.2003.5.15.0011" class="form-control" style="height: 42px;">
                        <small class="config-help"><i class="fas fa-info-circle"></i> Aceita busca parcial com ILIKE.</small>
                    </div>
                    <div class="form-group" style="width: 200px;">
                        <label for="grauProcessoSelect">Grau do Banco:</label>
                        <select id="grauProcessoSelect" class="form-control" style="height: 42px;">
                            <option value="1" selected>1¬∫ Grau</option>
                            <option value="2">2¬∫ Grau</option>
                        </select>
                    </div>
                </div>

                <div class="config-actions">
                    <button type="button" id="buscarProcessoBtn" class="btn btn-primary">
                        <i class="fas fa-magnifying-glass"></i> Buscar
                    </button>
                </div>

                <div id="statusProcessos" class="loading-status hidden">
                    <div class="loader"></div>
                    <span>Consultando banco de dados...</span>
                </div>

                <div id="resultadoProcessos" class="results-container hidden">
                    <div class="results-header">
                        <h4>Detalhes do Processo</h4>
                        <div class="results-stats">
                            <span class="database-info">
                                <i class="fas fa-database"></i> Consulta em tempo real
                            </span>
                        </div>
                    </div>

                    <div class="grid-2">
                        <div class="card">
                            <div class="card-header">
                                <h5><i class="fas fa-table-list"></i> Tarefa Atual</h5>
                            </div>
                            <div class="table-responsive">
                                <table class="data-table" id="tabelaTarefaAtual">
                                    <thead>
                                        <tr>
                                            <th>Tarefa</th>
                                            <th>Usu√°rio</th>
                                            <th>√ìrg√£o Julgador</th>
                                            <th>Colegiado</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                            <div class="empty-hint" id="tarefaAtualVazia" style="display:none">Nenhuma tarefa aberta encontrada.</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h5><i class="fas fa-people-group"></i> Partes</h5>
                            </div>
                            <div class="table-responsive">
                                <table class="data-table" id="tabelaPartes">
                                    <thead>
                                        <tr>
                                            <th>Nome</th>
                                            <th>Login</th>
                                            <th>Tipo</th>
                                            <th>Principal</th>
                                            <th>Participa√ß√£o</th>
                                            <th>Situa√ß√£o</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                            <div class="empty-hint" id="partesVazia" style="display:none">Nenhuma parte encontrada.</div>
                        </div>
                    </div>

                    <div class="card" style="margin-top:16px;">
                        <div class="card-header">
                            <h5><i class="fas fa-clock-rotate-left"></i> Hist√≥rico</h5>
                        </div>
                        <div class="table-responsive">
                            <table class="data-table" id="tabelaHistorico">
                                <thead>
                                    <tr>
                                        <th>Cria√ß√£o</th>
                                        <th>Abertura</th>
                                        <th>Sa√≠da</th>
                                        <th>Tarefa</th>
                                        <th>Fluxo</th>
                                        <th>Task ID</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <div class="empty-hint" id="historicoVazio" style="display:none">Sem hist√≥rico para este processo.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Aba Pesquisa √ìrg√£os Julgadores -->
        <div id="busca-ojs" class="tab-content">
            <div class="section-header">
                <h2>Pesquisa √ìrg√£os Julgadores</h2>
            </div>

            <div class="config-tabs">
                <button class="config-tab-button active" data-config-tab="ojs1grau">OJs 1¬∫ Grau</button>
                <button class="config-tab-button" data-config-tab="ojs2grau">OJs 2¬∫ Grau</button>
            </div>
            
            <!-- OJs 1¬∫ Grau -->
            <div id="ojs1grau-config" class="config-section active">
                <div class="section-info">
                    <p><i class="fas fa-database"></i> Consulta direta no banco de dados PJE - √ìrg√£os julgadores de 1¬∫ grau ativos.</p>
                </div>

                <div class="search-filters">
                    <div class="form-group">
                        <label class="section-label">
                            <i class="fas fa-server"></i>
                            Fonte de dados
                        </label>
                        <div class="source-selector-modern">
                            <label class="source-card" data-source="local">
                                <input type="radio" name="fonteOjs1Grau" value="local" checked>
                                <div class="source-card-content">
                                    <div class="source-icon">
                                        <i class="fas fa-file-code"></i>
                                    </div>
                                    <div class="source-info">
                                        <div class="source-title">Arquivo Local</div>
                                        <div class="source-subtitle">ojs1g.json</div>
                                    </div>
                                    <div class="source-check">
                                        <i class="fas fa-check-circle"></i>
                                    </div>
                                </div>
                            </label>
                            <label class="source-card" data-source="banco">
                                <input type="radio" name="fonteOjs1Grau" value="banco">
                                <div class="source-card-content">
                                    <div class="source-icon">
                                        <i class="fas fa-database"></i>
                                    </div>
                                    <div class="source-info">
                                        <div class="source-title">Banco de Dados</div>
                                        <div class="source-subtitle">PostgreSQL</div>
                                    </div>
                                    <div class="source-check">
                                        <i class="fas fa-check-circle"></i>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>
                    <div class="filters-row-modern">
                        <div class="form-group">
                            <label for="filtroOjs1Grau" class="filter-label">
                                <i class="fas fa-magnifying-glass"></i>
                                Filtrar por nome
                            </label>
                            <input
                                type="text"
                                id="filtroOjs1Grau"
                                placeholder="Digite parte do nome do √≥rg√£o..."
                                class="form-control"
                                style="height: 42px; font-size: 14px;">
                        </div>

                        <div class="form-group form-group-small">
                            <label for="limiteOjs1Grau" class="filter-label">
                                <i class="fas fa-list-ol"></i>
                                Limite
                            </label>
                            <select id="limiteOjs1Grau" class="form-control" style="height: 42px;">
                                <option value="100">100</option>
                                <option value="500">500</option>
                                <option value="1000">1000</option>
                                <option value="2000">2000</option>
                                <option value="5000">5000</option>
                                <option value="0" selected>Todos</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="config-actions">
                    <button type="button" id="carregarOjs1Grau" class="btn btn-primary" style="display: none;">
                        <i class="fas fa-database"></i> Buscar no Banco 1¬∫ Grau
                    </button>
                    <button type="button" id="buscarTodasOjs1Grau" class="btn btn-success">
                        <i class="fas fa-list-check"></i> Buscar Todas
                    </button>
                    <button type="button" id="testarConexao1Grau" class="btn btn-info">
                        <i class="fas fa-plug"></i> Testar Conex√£o
                    </button>
                    <button type="button" id="exportarOjs1Grau" class="btn btn-warning">
                        <i class="fas fa-file-arrow-down"></i> Exportar Lista
                    </button>
                </div>

                <div id="statusOjs1Grau" class="loading-status hidden">
                    <div class="loader"></div>
                    <span>Consultando banco de dados...</span>
                </div>

                <div id="resultadoOjs1Grau" class="results-container hidden">
                    <div class="results-header modern">
                        <div class="results-title-section">
                            <div class="results-icon">
                                <i class="fas fa-gavel"></i>
                            </div>
                            <div class="results-title-content">
                                <h4>√ìrg√£os Julgadores 1¬∫ Grau</h4>
                                <span class="results-subtitle">Varas do Trabalho da 15¬™ Regi√£o</span>
                            </div>
                        </div>
                        <div class="results-stats-modern">
                            <div class="stat-card highlight">
                                <div class="stat-icon">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-value" id="countOjs1Grau">0</div>
                                    <div class="stat-label">√ìrg√£os retornados</div>
                                </div>
                            </div>
                            <div class="stat-badge success" id="badgeFonteOjs1Grau">
                                <i class="fas fa-file-code"></i>
                                <span>Arquivo Local</span>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Nome do √ìrg√£o</th>
                                </tr>
                            </thead>
                            <tbody id="tabelaOjs1Grau">
                                <!-- Dados ser√£o inseridos via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- OJs 2¬∫ Grau -->
            <div id="ojs2grau-config" class="config-section">
                <div class="section-info">
                    <p><i class="fas fa-database"></i> Consulta direta no banco de dados PJE - √ìrg√£os julgadores de 2¬∫ grau ativos.</p>
                </div>

                <div class="search-filters">
                    <div class="form-group">
                        <label class="section-label">
                            <i class="fas fa-server"></i>
                            Fonte de dados
                        </label>
                        <div class="source-selector-modern">
                            <label class="source-card" data-source="local">
                                <input type="radio" name="fonteOjs2Grau" value="local" checked>
                                <div class="source-card-content">
                                    <div class="source-icon">
                                        <i class="fas fa-file-code"></i>
                                    </div>
                                    <div class="source-info">
                                        <div class="source-title">Arquivo Local</div>
                                        <div class="source-subtitle">ojs2g.json</div>
                                    </div>
                                    <div class="source-check">
                                        <i class="fas fa-check-circle"></i>
                                    </div>
                                </div>
                            </label>
                            <label class="source-card" data-source="banco">
                                <input type="radio" name="fonteOjs2Grau" value="banco">
                                <div class="source-card-content">
                                    <div class="source-icon">
                                        <i class="fas fa-database"></i>
                                    </div>
                                    <div class="source-info">
                                        <div class="source-title">Banco de Dados</div>
                                        <div class="source-subtitle">PostgreSQL</div>
                                    </div>
                                    <div class="source-check">
                                        <i class="fas fa-check-circle"></i>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="filters-row-modern">
                        <div class="form-group">
                            <label for="filtroOjs2Grau" class="filter-label">
                                <i class="fas fa-magnifying-glass"></i>
                                Buscar por √ìrg√£o ou Magistrado
                            </label>
                            <input
                                type="text"
                                id="filtroOjs2Grau"
                                placeholder="Digite o nome do √≥rg√£o, c√¢mara ou magistrado... Ex: '1¬™ C√¢mara', 'Silva', 'Jo√£o'"
                                class="form-control"
                                style="height: 42px; font-size: 14px;">
                        </div>

                        <div class="form-group form-group-small">
                            <label for="limiteOjs2Grau" class="filter-label">
                                <i class="fas fa-list-ol"></i>
                                Limite
                            </label>
                            <select id="limiteOjs2Grau" class="form-control" style="height: 42px;">
                                <option value="100">100</option>
                                <option value="500">500</option>
                                <option value="1000">1000</option>
                                <option value="2000">2000</option>
                                <option value="5000">5000</option>
                                <option value="0" selected>Todos</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="config-actions">
                    <button type="button" id="carregarOjs2Grau" class="btn btn-primary" style="display: none;">
                        <i class="fas fa-database"></i> Buscar no Banco 2¬∫ Grau
                    </button>
                    <button type="button" id="buscarTodasOjs2Grau" class="btn btn-success">
                        <i class="fas fa-list-check"></i> Buscar Todas
                    </button>
                    <button type="button" id="testarConexao2Grau" class="btn btn-info">
                        <i class="fas fa-plug"></i> Testar Conex√£o
                    </button>
                    <button type="button" id="exportarOjs2Grau" class="btn btn-warning">
                        <i class="fas fa-file-arrow-down"></i> Exportar Lista
                    </button>
                </div>

                <div id="statusOjs2Grau" class="loading-status hidden">
                    <div class="loader"></div>
                    <span>Consultando banco de dados...</span>
                </div>

                <div id="resultadoOjs2Grau" class="results-container hidden">
                    <div class="results-header modern">
                        <div class="results-title-section">
                            <div class="results-icon">
                                <i class="fas fa-balance-scale"></i>
                            </div>
                            <div class="results-title-content">
                                <h4>√ìrg√£os Julgadores 2¬∫ Grau</h4>
                                <span class="results-subtitle">Tribunal Regional do Trabalho 15¬™ Regi√£o</span>
                            </div>
                        </div>
                        <div class="results-stats-modern">
                            <div class="stat-card highlight">
                                <div class="stat-icon">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-value" id="countOjs2Grau">0</div>
                                    <div class="stat-label">√ìrg√£os retornados</div>
                                </div>
                            </div>
                            <div class="stat-badge success" id="badgeFonteOjs2Grau">
                                <i class="fas fa-file-code"></i>
                                <span>Arquivo Local</span>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Nome do √ìrg√£o</th>
                                </tr>
                            </thead>
                            <tbody id="tabelaOjs2Grau">
                                <!-- Dados ser√£o inseridos via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Aba Usu√°rios/PJe -->
        <div id="usuarios-pje" class="tab-content">
            <!-- Banner Informativo BugFix -->
            <div class="bugfix-banner" id="bugfixBannerUsuarios">
                <div class="bugfix-banner-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="bugfix-banner-content">
                    <div class="bugfix-banner-title">
                        <i class="fas fa-database"></i> Dados do Banco R√©plica
                    </div>
                    <div class="bugfix-banner-text">
                        Os dados exibidos s√£o baseados no banco r√©plica.
                    </div>
                </div>
                <button class="bugfix-banner-close" onclick="app.hideBugfixBanner('bugfixBannerUsuarios')" title="Fechar aviso">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="usuarios-content">
                <div class="filter-controls-modern">
                    <!-- Se√ß√£o de Filtros Principais -->
                    <div class="filters-grid">
                        <!-- Grau -->
                        <div class="filter-card">
                            <div class="filter-header">
                                <i class="fas fa-layer-group"></i>
                                <span>Grau</span>
                            </div>
                            <div class="radio-group-modern">
                                <label class="radio-card">
                                    <input type="radio" name="grauServidor" value="1" checked>
                                    <div class="radio-content">
                                        <i class="fas fa-building"></i>
                                        <span>1¬∫ Grau</span>
                                    </div>
                                </label>
                                <label class="radio-card">
                                    <input type="radio" name="grauServidor" value="2">
                                    <div class="radio-content">
                                        <i class="fas fa-university"></i>
                                        <span>2¬∫ Grau</span>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Status dos V√≠nculos -->
                        <div class="filter-card">
                            <div class="filter-header">
                                <i class="fas fa-link"></i>
                                <span>Status dos V√≠nculos</span>
                            </div>
                            <div class="radio-group-modern status-group">
                                <label class="radio-card status-active">
                                    <input type="radio" name="statusVinculo" value="ativos" checked>
                                    <div class="radio-content">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Ativos</span>
                                    </div>
                                </label>
                                <label class="radio-card status-inactive">
                                    <input type="radio" name="statusVinculo" value="inativos">
                                    <div class="radio-content">
                                        <i class="fas fa-times-circle"></i>
                                        <span>Inativos</span>
                                    </div>
                                </label>
                                <label class="radio-card status-all">
                                    <input type="radio" name="statusVinculo" value="todos">
                                    <div class="radio-content">
                                        <i class="fas fa-list"></i>
                                        <span>Todos</span>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Se√ß√£o de Busca -->
                    <div class="search-section">
                        <div class="search-card">
                            <div class="search-header">
                                <i class="fas fa-search"></i>
                                <span>Filtros de Busca</span>
                            </div>
                            <div class="search-inputs">
                                <div class="input-group">
                                    <div class="input-field" style="width:100%">
                                        <label for="filtroNomeServidor">CPF ou Nome do Servidor</label>
                                        <div class="input-with-preview">
                                            <span class="input-group-icon">
                                                <i class="fas fa-id-card"></i>
                                            </span>
                                            <input type="text" id="filtroNomeServidor" class="form-control" placeholder="Digite CPF (ex: 530.361.406-97) ou nome do servidor" autocomplete="off">
                                            <div id="servidor-preview" class="servidor-preview hidden">
                                                <div class="preview-loading hidden">
                                                    <i class="fas fa-spinner fa-spin"></i> Buscando...
                                                </div>
                                                <div class="preview-content">
                                                    <div class="preview-icon">
                                                        <i class="fas fa-user-tie"></i>
                                                    </div>
                                                    <div class="preview-info">
                                                        <div class="preview-name"></div>
                                                        <div class="preview-cpf"></div>
                                                        <div class="preview-details"></div>
                                                    </div>
                                                </div>
                                                <div class="preview-suggestions hidden">
                                                    <div class="suggestions-title">
                                                        <i class="fas fa-lightbulb"></i> Sugest√µes encontradas:
                                                    </div>
                                                    <div class="suggestions-list"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="input-field" style="width:100%">
                                    <label for="filtroCidadeServidor">Cidade</label>
                                    <div class="input-group">
                                        <span class="input-group-icon">
                                            <i class="fas fa-city"></i>
                                        </span>
                                        <input type="text" id="filtroCidadeServidor" class="form-control" placeholder="Digite o nome da cidade (ex: Ribeir√£o Preto, Campinas)" autocomplete="off">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- A√ß√µes -->
                    <div class="actions-section">
                        <div class="actions-primary">
                            <button type="button" id="buscarServidores" class="btn-modern btn-primary">
                                <i class="fas fa-search"></i>
                                <span>Buscar OJs</span>
                            </button>
                            <button type="button" id="limparFiltrosServidores" class="btn-modern btn-secondary">
                                <i class="fas fa-eraser"></i>
                                <span>Limpar Filtros</span>
                            </button>
                            <button type="button" id="exportarServidores" class="btn-modern btn-warning">
                                <i class="fas fa-download"></i>
                                <span>Exportar Lista</span>
                            </button>
                        </div>
                        <div class="actions-secondary">
                            <button type="button" id="compararServidorLocal" class="btn-modern btn-info" style="display: none;">
                                <i class="fas fa-sync-alt"></i>
                                <span>Comparar com Local</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div id="statusServidores" class="loading-status hidden">
                    <div class="loader"></div>
                    <span>Buscando servidores...</span>
                </div>
                
                <div id="resultadoServidores" class="results-container hidden">
                    <div class="results-header">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                            <h4 style="margin: 0;">Resultados da Consulta</h4>
                            <div class="accordion-controls" style="display: flex; gap: 6px;">
                                <button type="button" onclick="window.app.copiarOJsFormatados()" class="btn btn-sm btn-success" title="Copiar todos os OJs no formato correto para compara√ß√£o" style="padding: 4px 10px; font-size: 11px;">
                                    <i class="fas fa-copy"></i> Copiar OJs
                                </button>
                                <button type="button" onclick="window.app.toggleTodosAcordeoes(true)" class="btn btn-sm btn-outline-primary" title="Expandir todos os servidores" style="padding: 4px 10px; font-size: 11px;">
                                    <i class="fas fa-chevron-down"></i> Expandir Todos
                                </button>
                                <button type="button" onclick="window.app.toggleTodosAcordeoes(false)" class="btn btn-sm btn-outline-secondary" title="Recolher todos os servidores" style="padding: 4px 10px; font-size: 11px;">
                                    <i class="fas fa-chevron-right"></i> Recolher Todos
                                </button>
                            </div>
                        </div>
                        <div class="results-metrics">
                            <div class="metric-item primary">
                                <span class="metric-value" id="countOjsVinculados">0</span>
                                <span class="metric-label">√ìrg√£os Julgadores</span>
                            </div>
                            <div class="metric-item secondary">
                                <span class="metric-value" id="countServidores">0</span>
                                <span class="metric-label">Usu√°rios</span>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>CPF</th>
                                    <th>Perfil</th>
                                    <th>√ìrg√£o Julgador üìã</th>
                                    <th>Cidade</th>
                                    <th>Data de In√≠cio</th>
                                </tr>
                            </thead>
                            <tbody id="tabelaServidores">
                                <!-- Dados ser√£o inseridos via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Se√ß√£o de Compara√ß√£o de OJs -->
                <div class="comparison-panel">
                    <div class="panel-header">
                        <h3><i class="fas fa-balance-scale"></i> Compara√ß√£o de √ìrg√£os Julgadores</h3>
                        <p class="panel-description">Digite os OJs com perfis opcionais para verificar v√≠nculos espec√≠ficos do usu√°rio</p>
                    </div>
                    
                    <div class="comparison-controls">
                        <div class="form-group" style="flex: 1; position: relative;">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
                                <label for="ojsComparacaoTextarea" style="margin: 0;">Lista de OJs para Verificar (um por linha - pode incluir perfil ap√≥s h√≠fen):</label>
                                <button type="button" id="downloadExampleBtn" class="btn btn-outline-secondary" title="Ver formatos JSON aceitos" style="padding: 4px 8px; font-size: 11px; border-radius: 6px; display: flex; align-items: center; gap: 4px;">
                                    <i class="fas fa-info-circle"></i>
                                    <span style="font-size: 10px;">Formato JSON</span>
                                </button>
                            </div>
                            <textarea
                                id="ojsComparacaoTextarea"
                                placeholder="Cole aqui a lista de √≥rg√£os julgadores para comparar...&#10;Exemplos:&#10;1¬™ Vara do Trabalho de Campinas&#10;2¬™ Vara do Trabalho de Campinas - Diretor de Secretaria&#10;Adamantina - Assessor (use Normalizar para escolher OJs)&#10;VT DE CAMPINAS (use Normalizar para corrigir)"
                                rows="8"
                                style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-family: monospace; font-size: 14px; line-height: 1.4; resize: vertical;"
                            ></textarea>
                        </div>

                        <div class="comparison-actions" style="display: flex; gap: 6px; margin-top: 10px; align-items: center; flex-wrap: wrap;">
                            <button type="button" id="compararOJs" class="btn btn-primary" style="padding: 6px 12px; font-size: 12px; flex: 1;">
                                <i class="fas fa-search-plus"></i> Comparar
                            </button>
                            <button type="button" id="normalizarOJsBtn" class="btn btn-warning" style="padding: 6px 12px; font-size: 12px;" title="Corrige abrevia√ß√µes, formata√ß√£o e busca OJs por cidade">
                                <i class="fas fa-magic"></i> Normalizar
                            </button>
                            <button type="button" id="buscarPorCidadeBtn" class="btn btn-success" style="padding: 6px 12px; font-size: 12px;" title="Buscar OJs por cidade ou nome">
                                <i class="fas fa-search"></i> Buscar OJ
                            </button>
                            <button type="button" id="limparComparacao" class="btn btn-secondary" style="padding: 6px 12px; font-size: 12px;">
                                <i class="fas fa-eraser"></i> Limpar
                            </button>
                            <input type="file" id="importOJsFile" accept=".json" style="display: none;">
                            <button type="button" id="importOJsBtn" class="btn btn-info" style="padding: 6px 12px; font-size: 12px;">
                                <i class="fas fa-upload"></i> Importar
                            </button>
                        </div>

                        <!-- Sugest√µes de autocomplete -->
                        <div id="ojSuggestions" class="oj-suggestions" style="display: none;"></div>
                    </div>
                    
                    <!-- Resultados da Compara√ß√£o -->
                    <div id="resultadoComparacao" class="comparison-results hidden" style="margin-top: 20px;">
                        <div class="results-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <!-- OJs Faltantes -->
                            <div class="result-section" style="background: linear-gradient(135deg, #fefcf9 0%, #fef5f0 100%); padding: 20px; border-radius: 12px; border: 1px solid #d4c4a8; box-shadow: 0 4px 12px rgba(139, 115, 85, 0.1);">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; padding-bottom: 12px; border-bottom: 2px solid #f5e5d3;">
                                    <h4 style="color: #c0392b; margin: 0; display: flex; align-items: center; gap: 8px; font-size: 16px;">
                                        <i class="fas fa-exclamation-circle" style="font-size: 20px;"></i>
                                        <span>OJs para Vincular</span>
                                    </h4>
                                    <span id="countFaltantes" class="count-badge" style="background: #c0392b; color: white; padding: 4px 10px; border-radius: 12px; font-size: 13px; font-weight: bold; min-width: 30px; text-align: center;">0</span>
                                </div>
                                <div id="listaFaltantes" class="oj-list" style="max-height: 400px; overflow-y: auto; padding: 5px;"></div>
                                <button id="gerarAutomacaoFaltantes" class="btn btn-success" style="width: 100%; margin-top: 15px; padding: 10px; border-radius: 8px; font-weight: 500; display: none; background: linear-gradient(135deg, #27ae60 0%, #229954 100%); border: none; box-shadow: 0 4px 12px rgba(39, 174, 96, 0.25);">
                                    <i class="fas fa-robot"></i> Gerar Automa√ß√£o para OJs Faltantes
                                </button>
                            </div>

                            <!-- OJs J√° Vinculados -->
                            <div class="result-section" style="background: linear-gradient(135deg, #fefcf9 0%, #f5fef9 100%); padding: 20px; border-radius: 12px; border: 1px solid #d4c4a8; box-shadow: 0 4px 12px rgba(139, 115, 85, 0.1);">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; padding-bottom: 12px; border-bottom: 2px solid #e5f5e8;">
                                    <h4 style="color: #27ae60; margin: 0; display: flex; align-items: center; gap: 8px; font-size: 16px;">
                                        <i class="fas fa-check-circle" style="font-size: 20px;"></i>
                                        <span>OJs J√° Vinculados</span>
                                    </h4>
                                    <span id="countExtras" class="count-badge" style="background: #27ae60; color: white; padding: 4px 10px; border-radius: 12px; font-size: 13px; font-weight: bold; min-width: 30px; text-align: center;">0</span>
                                </div>
                                <div id="listaExtras" class="oj-list" style="max-height: 400px; overflow-y: auto; padding: 5px;"></div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>

    </div>



    <!-- Modal para exemplo de importa√ß√£o -->
    <div id="import-example-modal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h3>Exemplo de Arquivo para Importa√ß√£o em Lote</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <p>Para importar peritos em lote, crie um arquivo JSON com a seguinte estrutura:</p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 4px; overflow-x: auto; font-size: 12px;">
[
  {
    "nome": "Jo√£o Silva Santos",
    "cpf": "123.456.789-00",
    "ojs": [
      "1¬™ Vara do Trabalho de Campinas",
      "2¬™ Vara do Trabalho de Campinas",
      "Vara do Trabalho de Jundia√≠"
    ]
  },
  {
    "nome": "Maria Oliveira Costa",
    "cpf": "987.654.321-11",
    "ojs": [
      "Vara do Trabalho de Atibaia",
      "LIQ2 - Jundia√≠",
      "EXE1 - Campinas"
    ]
  }
]</pre>
                <div style="margin-top: 15px; padding: 10px; background-color: #f9f7f4; border-left: 4px solid #8b7355; border-radius: 4px;">
                    <strong>Instru√ß√µes:</strong>
                    <ul style="margin: 5px 0; padding-left: 20px;">
                        <li>O arquivo deve estar em formato JSON v√°lido</li>
                        <li>Cada perito deve ter <strong>nome</strong>, <strong>cpf</strong> e <strong>ojs</strong></li>
                        <li>O campo "ojs" deve ser um array com os √≥rg√£os julgadores</li>
                        <li>CPFs duplicados ir√£o atualizar os dados existentes</li>
                        <li>Registros inv√°lidos ser√£o ignorados com aviso</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="document.getElementById('import-example-modal').style.display='none'">
                    Fechar
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de exemplo de importa√ß√£o para servidores -->
    <div id="servidor-import-example-modal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h3>Exemplo de Arquivo para Importa√ß√£o de Servidores em Lote</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <p>Para importar servidores em lote, crie um arquivo JSON com a seguinte estrutura:</p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 4px; overflow-x: auto; font-size: 12px;">
[
  {
    "nome": "Jo√£o Silva Santos",
    "cpf": "123.456.789-00",
    "perfil": "Assessor",
    "ojs": [
      "1¬™ Vara do Trabalho de Campinas",
      "2¬™ Vara do Trabalho de Campinas",
      "Vara do Trabalho de Jundia√≠"
    ]
  },
  {
    "nome": "Maria Oliveira Costa",
    "cpf": "987.654.321-11",
    "perfil": "Secret√°rio de Audi√™ncia",
    "ojs": [
      "Vara do Trabalho de Atibaia",
      "LIQ2 - Jundia√≠",
      "EXE1 - Campinas"
    ]
  },
  {
    "nome": "Carlos Eduardo Ferreira",
    "cpf": "456.789.123-22",
    "perfil": "Administrador",
    "ojs": [
      "3¬™ Vara do Trabalho de Sorocaba",
      "Vara do Trabalho de Salto",
      "Vara do Trabalho de Itapetininga"
    ]
  }
]</pre>
                <div style="margin-top: 15px; padding: 10px; background-color: #f9f7f4; border-left: 4px solid #8b7355; border-radius: 4px;">
                    <strong>Instru√ß√µes:</strong>
                    <ul style="margin: 5px 0; padding-left: 20px;">
                        <li>O arquivo deve estar em formato JSON v√°lido</li>
                        <li>Cada servidor deve ter <strong>nome</strong>, <strong>cpf</strong>, <strong>perfil</strong> e <strong>ojs</strong></li>
                        <li>O campo "perfil" pode ser: Assessor, Secret√°rio de Audi√™ncia, Administrador, Servidor</li>
                        <li>O campo "ojs" deve ser um array com os √≥rg√£os julgadores</li>
                        <li>CPFs duplicados ir√£o atualizar os dados existentes</li>
                        <li>Registros inv√°lidos ser√£o ignorados com aviso</li>
                    </ul>
                </div>
                <div style="margin-top: 15px; padding: 10px; background-color: #fff3cd; border-left: 4px solid #ffc107; border-radius: 4px;">
                    <strong>üí° Dica:</strong> Use o arquivo <code>exemplo_importacao_servidores.json</code> na raiz do projeto como refer√™ncia.
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="document.getElementById('servidor-import-example-modal').style.display='none'">
                    Fechar
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para adicionar/editar perito -->
    <div id="perito-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Adicionar Perito</h3>
                <span class="close">&times;</span>
            </div>
            <form id="perito-form">
                <div class="form-group">
                    <label for="perito-nome">Nome:</label>
                    <input type="text" id="perito-nome" required>
                </div>
                <div class="form-group">
                    <label for="perito-cpf">CPF:</label>
                    <div class="autocomplete-container">
                        <input type="text" id="perito-cpf" placeholder="000.000.000-00" required autocomplete="off">
                        <div class="autocomplete-suggestions" id="perito-cpf-suggestions"></div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="perito-ojs">√ìrg√£os Julgadores (um por linha):</label>
                    <textarea id="perito-ojs" rows="5" placeholder="Vara do Trabalho de Atibaia\nLIQ2 - Jundia√≠"></textarea>
                </div>
                <div class="modal-buttons">
                    <button type="button" class="btn btn-secondary" id="cancel-perito">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para adicionar/editar servidor -->
    <div id="servidor-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="servidor-modal-title">Adicionar Servidor</h3>
                <span class="close">&times;</span>
            </div>
            <!-- Indicador de Status do Banco -->
            <div class="database-status-indicator" id="database-status-indicator">
                <div class="status-item">
                    <i class="fas fa-database"></i>
                    <span id="database-status-text">Verificando conex√£o...</span>
                    <div class="status-dot" id="database-status-dot"></div>
                </div>
            </div>
            
            <form id="servidor-form">
                <div class="form-group">
                    <label for="servidor-nome">Nome:</label>
                    <input type="text" id="servidor-nome" required>
                </div>
                <div class="form-group">
                    <label for="servidor-cpf">CPF:</label>
                    <div class="autocomplete-container">
                        <input type="text" id="servidor-cpf" placeholder="000.000.000-00" required autocomplete="off">
                        <div class="autocomplete-suggestions" id="servidor-cpf-suggestions"></div>
                    </div>
                    <div class="cpf-verification-loader" id="cpf-verification-loader" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i> Verificando OJs cadastrados...
                    </div>
                </div>
                <div class="form-group">
                    <label for="servidor-perfil">Perfil *:</label>
                    <select id="servidor-perfil" name="perfil" required>
                        <option value="">Selecione...</option>
                        <option value="Administrador">Administrador</option>
                        <option value="Assessor" selected>Assessor</option>
                        <option value="Diretor de Central de Atendimento">Diretor de Central de Atendimento</option>
                        <option value="Diretor de Secretaria">Diretor de Secretaria</option>
                        <option value="Estagi√°rio Conhecimento">Estagi√°rio Conhecimento</option>
                        <option value="Estagi√°rio de Central de Atendimento">Estagi√°rio de Central de Atendimento</option>
                        <option value="Secret√°rio de Audi√™ncia">Secret√°rio de Audi√™ncia</option>
                        <option value="Servidor">Servidor</option>
                        <option value="Perito Judicial">Perito Judicial</option>
                    </select>
                </div>
                
                <!-- Painel de Verifica√ß√£o de OJs -->
                <div class="ojs-verification-panel" id="ojs-verification-panel" style="display: none;">
                    <div class="verification-header">
                        <h4><i class="fas fa-search"></i> Verifica√ß√£o Inteligente</h4>
                        <span class="server-info" id="server-info-display"></span>
                    </div>
                    
                    <div class="verification-summary" id="verification-summary">
                        <!-- Resumo ser√° inserido aqui -->
                    </div>
                    
                    <div class="verification-details">
                        <div class="ojs-tabs">
                            <button class="tab-btn active" data-tab="cadastrados">
                                <span class="tab-count" id="cadastrados-count">0</span> J√° Cadastrados
                            </button>
                            <button class="tab-btn" data-tab="faltantes">
                                <span class="tab-count" id="faltantes-count">0</span> Para Processar
                            </button>
                        </div>
                        
                        <div class="tab-content active" id="cadastrados-content">
                            <div class="ojs-list" id="ojs-cadastrados-list">
                                <!-- OJs j√° cadastrados ser√£o listados aqui -->
                            </div>
                        </div>
                        
                        <div class="tab-content" id="faltantes-content">
                            <div class="ojs-list" id="ojs-faltantes-list">
                                <!-- OJs para processar ser√£o listados aqui -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="servidor-ojs">√ìrg√£os Julgadores (um por linha):</label>
                    <textarea id="servidor-ojs" rows="5" placeholder="Vara do Trabalho de Atibaia&#10;1¬™ Vara do Trabalho de Campinas"></textarea>
                </div>
                <div class="modal-buttons">
                    <button type="button" class="btn btn-secondary" id="cancel-servidor">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para adicionar/editar servidor (vers√£o antiga - mantida para compatibilidade) -->
    <div id="servidor-modal-old" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="servidor-modal-title-old">√ìrg√£o Julgador (OJ) o qual o servidor quer o perfil</h3>
                <span class="close">&times;</span>
            </div>
            <form id="servidor-form-old">
                <div class="form-group">
                    <label for="servidor-nome-old">Nome:</label>
                    <input type="text" id="servidor-nome-old" required>
                </div>
                <div class="form-group">
                    <label for="servidor-cpf-old">CPF:</label>
                    <input type="text" id="servidor-cpf-old" placeholder="000.000.000-00" required>
                </div>
                <div class="form-group">
                    <label for="servidor-perfil-old">Perfil *:</label>
                    <select id="servidor-perfil-old" name="perfil" required>
                        <option value="">Selecione...</option>
                        <option value="Administrador">Administrador</option>
                        <option value="Assessor">Assessor</option>
                        <option value="Diretor de Central de Atendimento">Diretor de Central de Atendimento</option>
                        <option value="Diretor de Secretaria">Diretor de Secretaria</option>
                        <option value="Estagi√°rio Conhecimento">Estagi√°rio Conhecimento</option>
                        <option value="Estagi√°rio de Central de Atendimento">Estagi√°rio de Central de Atendimento</option>
                        <option value="Secret√°rio de Audi√™ncia">Secret√°rio de Audi√™ncia</option>
                        <option value="Servidor">Servidor</option>
                        <option value="Perito Judicial">Perito Judicial</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="oj-selector-main">√ìrg√£os Julgadores:</label>
                    <div class="oj-selector" id="oj-selector-main">
                        <input type="text" class="oj-search" placeholder="Buscar OJ..." id="oj-search-main">
                        <div class="oj-selected" id="oj-selected-main">
                            <span class="oj-placeholder">Nenhum OJ selecionado</span>
                        </div>
                        <div class="oj-dropdown" id="oj-dropdown-main" style="display: none;">
                            <div class="oj-options" id="oj-options-main">
                                <!-- OJ options will be populated by JavaScript -->
                            </div>
                        </div>
                        <input type="hidden" name="localizacoes" id="servidor-localizacoes">
                    </div>
                    <select id="servidor-localizacao-hidden" name="localizacao" style="display: none;">
                        <option value="">Selecione uma localiza√ß√£o</option>
                                        <option value="Vara do Trabalho de S√£o Roque">Vara do Trabalho de S√£o Roque</option>
                                        <option value="Vara do Trabalho de Ourinhos">Vara do Trabalho de Ourinhos</option>
                                        <option value="Vara do Trabalho de Lorena">Vara do Trabalho de Lorena</option>
                                        <option value="Vara do Trabalho de Itarar√©">Vara do Trabalho de Itarar√©</option>
                                        <option value="EXE2 - Sorocaba">EXE2 - Sorocaba</option>
                                        <option value="EXE1 - Campinas">EXE1 - Campinas</option>
                                        <option value="7¬™ Vara do Trabalho de Campinas">7¬™ Vara do Trabalho de Campinas</option>
                                        <option value="EXE6 - Campinas">EXE6 - Campinas</option>
                                        <option value="Assessoria de Execu√ß√£o II de Sert√£ozinho, Orl√¢ndia, Batatais e Franca">Assessoria de Execu√ß√£o II de Sert√£ozinho, Orl√¢ndia, Batatais e Franca</option>
                                        <option value="4¬™ Vara do Trabalho de Ribeir√£o Preto">4¬™ Vara do Trabalho de Ribeir√£o Preto</option>
                                        <option value="5¬™ Vara do Trabalho de Jundia√≠">5¬™ Vara do Trabalho de Jundia√≠</option>
                                        <option value="EXE4 - S√£o Jos√© do Rio Preto">EXE4 - S√£o Jos√© do Rio Preto</option>
                                        <option value="EXE3 - Campinas">EXE3 - Campinas</option>
                                        <option value="LIQ1 - Campinas">LIQ1 - Campinas</option>
                                        <option value="√ìrg√£o Centralizador de Leil√µes Judiciais de S√£o Jos√© dos Campos">√ìrg√£o Centralizador de Leil√µes Judiciais de S√£o Jos√© dos Campos</option>
                                        <option value="Divis√£o de Execu√ß√£o de Taubat√©">Divis√£o de Execu√ß√£o de Taubat√©</option>
                                        <option value="LIQ2 - Campinas">LIQ2 - Campinas</option>
                                        <option value="LIQ1 - S√£o Jos√© do Rio Preto">LIQ1 - S√£o Jos√© do Rio Preto</option>
                                        <option value="Vara do Trabalho de Itatiba">Vara do Trabalho de Itatiba</option>
                                        <option value="CCP ARARAQUARA - Centro de Concilia√ß√£o Pr√© Processual">CCP ARARAQUARA - Centro de Concilia√ß√£o Pr√© Processual</option>
                                        <option value="Vara do Trabalho de Salto">Vara do Trabalho de Salto</option>
                                        <option value="CCP DE 2¬∫ GRAU - Centro de Concilia√ß√£o Pr√© Processual">CCP DE 2¬∫ GRAU - Centro de Concilia√ß√£o Pr√© Processual</option>
                                        <option value="EXE1 - Sorocaba">EXE1 - Sorocaba</option>
                                        <option value="CEJUSC TAUBAT√â - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho">CEJUSC TAUBAT√â - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho</option>
                                        <option value="CON2 - Sorocaba">CON2 - Sorocaba</option>
                                        <option value="LIQ1 - Sorocaba">LIQ1 - Sorocaba</option>
                                        <option value="CON1 - S√£o Jos√© dos Campos">CON1 - S√£o Jos√© dos Campos</option>
                                        <option value="EXE1 - Presidente Prudente">EXE1 - Presidente Prudente</option>
                                        <option value="EXE5 - Campinas">EXE5 - Campinas</option>
                                        <option value="EXE4 - Araraquara">EXE4 - Araraquara</option>
                                        <option value="DAM - Campinas">DAM - Campinas</option>
                                        <option value="Vara do Trabalho de Tanabi">Vara do Trabalho de Tanabi</option>
                                        <option value="Posto Avan√ßado da Justi√ßa do Trabalho de Amparo em Pedreira">Posto Avan√ßado da Justi√ßa do Trabalho de Amparo em Pedreira</option>
                                        <option value="Vara do Trabalho de Rio Claro">Vara do Trabalho de Rio Claro</option>
                                        <option value="Vara do Trabalho de Ol√≠mpia">Vara do Trabalho de Ol√≠mpia</option>
                                        <option value="Vara do Trabalho de Lins">Vara do Trabalho de Lins</option>
                                        <option value="Vara do Trabalho de It√°polis">Vara do Trabalho de It√°polis</option>
                                        <option value="6¬™ Vara do Trabalho de Ribeir√£o Preto">6¬™ Vara do Trabalho de Ribeir√£o Preto</option>
                                        <option value="EXE4 - Campinas">EXE4 - Campinas</option>
                                        <option value="4¬™ Vara do Trabalho de Jundia√≠">4¬™ Vara do Trabalho de Jundia√≠</option>
                                        <option value="1¬™ Vara do Trabalho de Catanduva">1¬™ Vara do Trabalho de Catanduva</option>
                                        <option value="1¬™ Vara do Trabalho de Ja√∫">1¬™ Vara do Trabalho de Ja√∫</option>
                                        <option value="1¬™ Vara do Trabalho de S√£o Carlos">1¬™ Vara do Trabalho de S√£o Carlos</option>
                                        <option value="1¬™ Vara do Trabalho de Sorocaba">1¬™ Vara do Trabalho de Sorocaba</option>
                                        <option value="DIVEX - Campinas">DIVEX - Campinas</option>
                                        <option value="CEJUSC FRANCA - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho">CEJUSC FRANCA - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho</option>
                                        <option value="EXE2 - S√£o Jos√© dos Campos">EXE2 - S√£o Jos√© dos Campos</option>
                                        <option value="CEJUSC PIRACICABA - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho">CEJUSC PIRACICABA - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho</option>
                                        <option value="2¬™ Vara do Trabalho de Ara√ßatuba">2¬™ Vara do Trabalho de Ara√ßatuba</option>
                                        <option value="2¬™ Vara do Trabalho de Assis">2¬™ Vara do Trabalho de Assis</option>
                                        <option value="2¬™ Vara do Trabalho de Catanduva">2¬™ Vara do Trabalho de Catanduva</option>
                                        <option value="2¬™ Vara do Trabalho de Jaboticabal">2¬™ Vara do Trabalho de Jaboticabal</option>
                                        <option value="2¬™ Vara do Trabalho de Ja√∫">2¬™ Vara do Trabalho de Ja√∫</option>
                                        <option value="2¬™ Vara do Trabalho de Len√ß√≥is Paulista">2¬™ Vara do Trabalho de Len√ß√≥is Paulista</option>
                                        <option value="2¬™ Vara do Trabalho de Piracicaba">2¬™ Vara do Trabalho de Piracicaba</option>
                                        <option value="5¬™ Vara do Trabalho de Campinas">5¬™ Vara do Trabalho de Campinas</option>
                                        <option value="√ìrg√£o Centralizador de Leil√µes Judiciais de Taubat√©">√ìrg√£o Centralizador de Leil√µes Judiciais de Taubat√©</option>
                                        <option value="Vara do Trabalho de Santa Cruz do Rio Pardo">Vara do Trabalho de Santa Cruz do Rio Pardo</option>
                                        <option value="Divis√£o de Execu√ß√£o de Franca">Divis√£o de Execu√ß√£o de Franca</option>
                                        <option value="Vara do Trabalho de Teodoro Sampaio">Vara do Trabalho de Teodoro Sampaio</option>
                                        <option value="2¬™ Vara do Trabalho de Mar√≠lia">2¬™ Vara do Trabalho de Mar√≠lia</option>
                                        <option value="CEJUSC ARA√áATUBA - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho">CEJUSC ARA√áATUBA - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho</option>
                                        <option value="CEJUSC SJRIO PRETO - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho">CEJUSC SJRIO PRETO - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho</option>
                                        <option value="CEJUSC ARARAQUARA - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho">CEJUSC ARARAQUARA - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho</option>
                                        <option value="DIVEX - Bauru">DIVEX - Bauru</option>
                                        <option value="CON2 - Campinas">CON2 - Campinas</option>
                                        <option value="Vara do Trabalho de Fernand√≥polis">Vara do Trabalho de Fernand√≥polis</option>
                                        <option value="Vara do Trabalho de S√£o Jos√© do Rio Pardo">Vara do Trabalho de S√£o Jos√© do Rio Pardo</option>
                                        <option value="Vara do Trabalho de Registro">Vara do Trabalho de Registro</option>
                                        <option value="Vara do Trabalho de Mogi Mirim">Vara do Trabalho de Mogi Mirim</option>
                                        <option value="DIVEX - S√£o Jos√© dos Campos">DIVEX - S√£o Jos√© dos Campos</option>
                                        <option value="4¬™ Vara do Trabalho de Sorocaba">4¬™ Vara do Trabalho de Sorocaba</option>
                                        <option value="EXE2 - Bauru">EXE2 - Bauru</option>
                                        <option value="3¬™ Vara do Trabalho de Sorocaba">3¬™ Vara do Trabalho de Sorocaba</option>
                                        <option value="1¬™ Vara do Trabalho de Americana">1¬™ Vara do Trabalho de Americana</option>
                                        <option value="1¬™ Vara do Trabalho de Franca">1¬™ Vara do Trabalho de Franca</option>
                                        <option value="DAM - Jundia√≠">DAM - Jundia√≠</option>
                                        <option value="Vara do Trabalho de Leme">Vara do Trabalho de Leme</option>
                                        <option value="EXE2 - Campinas">EXE2 - Campinas</option>
                                        <option value="CON2 - Piracicaba">CON2 - Piracicaba</option>
                                        <option value="CEJUSC SJCAMPOS - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho">CEJUSC SJCAMPOS - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho</option>
                                        <option value="EXE2 - Piracicaba">EXE2 - Piracicaba</option>
                                        <option value="2¬™ Vara do Trabalho de Araraquara">2¬™ Vara do Trabalho de Araraquara</option>
                                        <option value="EXE3 - Piracicaba">EXE3 - Piracicaba</option>
                                        <option value="2¬™ Vara do Trabalho de Limeira">2¬™ Vara do Trabalho de Limeira</option>
                                        <option value="2¬™ Vara do Trabalho de Presidente Prudente">2¬™ Vara do Trabalho de Presidente Prudente</option>
                                        <option value="2¬™ Vara do Trabalho de Ribeir√£o Preto">2¬™ Vara do Trabalho de Ribeir√£o Preto</option>
                                        <option value="6¬™ Vara do Trabalho de Campinas">6¬™ Vara do Trabalho de Campinas</option>
                                        <option value="4¬™ Vara do Trabalho de Campinas">4¬™ Vara do Trabalho de Campinas</option>
                                        <option value="DIVEX - S√£o Jos√© do Rio Preto">DIVEX - S√£o Jos√© do Rio Preto</option>
                                        <option value="2¬™ Vara do Trabalho de Jundia√≠">2¬™ Vara do Trabalho de Jundia√≠</option>
                                        <option value="CEJUSC LIMEIRA - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho">CEJUSC LIMEIRA - JT Centro Judici√°rio de M√©todos Consensuais de Solu√ß√£o de Disputas da Justi√ßa do Trabalho</option>
                                        <option value="DIVEX - Sorocaba">DIVEX - Sorocaba</option>
                                        <option value="1¬™ Vara do Trabalho de Limeira">1¬™ Vara do Trabalho de Limeira</option>
                                        <option value="PARA USO POSTERIOR">PARA USO POSTERIOR</option>
                                        <option value="Vara do Trabalho de Itanha√©m">Vara do Trabalho de Itanha√©m</option>
                                        <option value="2¬™ Vara do Trabalho de Jacare√≠">2¬™ Vara do Trabalho de Jacare√≠</option>
                                        <option value="EXE2 - Presidente Prudente">EXE2 - Presidente Prudente</option>
                                        <option value="2¬™ Vara do Trabalho de Paul√≠nia">2¬™ Vara do Trabalho de Paul√≠nia</option>
                                        <option value="Divis√£o de Execu√ß√£o de Ara√ßatuba">Divis√£o de Execu√ß√£o de Ara√ßatuba</option>
                                        <option value="Divis√£o de Execu√ß√£o de Limeira">Divis√£o de Execu√ß√£o de Limeira</option>
                                        <option value="Vara do Trabalho de Presidente Venceslau">Vara do Trabalho de Presidente Venceslau</option>
                                        <option value="CON1 - Campinas">CON1 - Campinas</option>
                                        <option value="EXE4 - Piracicaba">EXE4 - Piracicaba</option>
                                        <option value="Vara do Trabalho de Sumar√©">Vara do Trabalho de Sumar√©</option>
                                        <option value="Vara do Trabalho de Caraguatatuba">Vara do Trabalho de Caraguatatuba</option>
                                        <option value="DAM - Piracicaba">DAM - Piracicaba</option>
                                        <option value="EXE4 - Sorocaba">EXE4 - Sorocaba</option>
                                        <option value="EXE3 - Presidente Prudente">EXE3 - Presidente Prudente</option>
                                        <option value="Vara do Trabalho de Itapetininga">Vara do Trabalho de Itapetininga</option>
                                        <option value="Vara do Trabalho de Mogi Gua√ßu">Vara do Trabalho de Mogi Gua√ßu</option>
                                        <option value="Vara do Trabalho de Jos√© Bonif√°cio">Vara do Trabalho de Jos√© Bonif√°cio</option>
                                        <option value="Vara do Trabalho de Itapeva">Vara do Trabalho de Itapeva</option>
                                        <option value="5¬™ Vara do Trabalho de S√£o Jos√© dos Campos">5¬™ Vara do Trabalho de S√£o Jos√© dos Campos</option>
                                        <option value="4¬™ Vara do Trabalho de S√£o Jos√© dos Campos">4¬™ Vara do Trabalho de S√£o Jos√© dos Campos</option>
                                        <option value="4¬™ Vara do Trabalho de Bauru">4¬™ Vara do Trabalho de Bauru</option>
                                        <option value="1¬™ Vara do Trabalho de Ara√ßatuba">1¬™ Vara do Trabalho de Ara√ßatuba</option>
                                        <option value="1¬™ Vara do Trabalho de Jaboticabal">1¬™ Vara do Trabalho de Jaboticabal</option>
                                        <option value="1¬™ Vara do Trabalho de Paul√≠nia">1¬™ Vara do Trabalho de Paul√≠nia</option>
                                        <option value="2¬™ Vara do Trabalho de Americana">2¬™ Vara do Trabalho de Americana</option>
                                        <option value="Posto Avan√ßado da Justi√ßa do Trabalho de Andradina em Pereira Barreto">Posto Avan√ßado da Justi√ßa do Trabalho de Andradina em Pereira Barreto</option>
                                        <option value="1¬™ Vara do Trabalho de Presidente Prudente">1¬™ Vara do Trabalho de Presidente Prudente</option>
                                        <option value="Posto Avan√ßado da Justi√ßa do Trabalho de Jundia√≠ em Vinhedo">Posto Avan√ßado da Justi√ßa do Trabalho de Jundia√≠ em Vinhedo</option>
                                        <option value="Posto Avan√ßado da Justi√ßa do Trabalho de Pindamonhangaba em Campos do Jord√£o">Posto Avan√ßado da Justi√ßa do Trabalho de Pindamonhangaba em Campos do Jord√£o</option>
                                        <option value="Assessoria de Execu√ß√£o I de Sert√£ozinho, Orl√¢ndia, Batatais e Franca">Assessoria de Execu√ß√£o I de Sert√£ozinho, Orl√¢ndia, Batatais e Franca</option>
                                    </select>
                </div>
                <div class="modal-buttons">
                    <button type="button" class="btn btn-secondary" id="cancel-servidor">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Confirma√ß√£o da Verifica√ß√£o Inteligente -->
    <div id="confirmation-modal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3 id="confirmation-title">üß† Verifica√ß√£o Inteligente</h3>
                <span class="close" onclick="document.getElementById('confirmation-modal').style.display='none'">&times;</span>
            </div>
            <div class="modal-body">
                <div class="confirmation-content">
                    <div id="confirmation-message" class="confirmation-message">
                        <!-- Mensagem principal ser√° inserida aqui -->
                    </div>
                    
                    <div class="confirmation-details">
                        <pre id="confirmation-details-text"></pre>
                    </div>
                    
                    <div class="confirmation-question">
                        <h4 id="confirmation-question-text">Continuar?</h4>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="confirm-yes">
                    <i class="fas fa-check"></i> Sim, Continuar
                </button>
                <button type="button" class="btn btn-danger" id="confirm-no">
                    <i class="fas fa-times"></i> N√£o, Cancelar
                </button>
                <button type="button" class="btn btn-secondary" id="confirm-force">
                    <i class="fas fa-forward"></i> For√ßar Processamento
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Verifica√ß√£o do Banco -->
    <div id="verificacao-banco-modal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3><i class="fas fa-database"></i> Verifica√ß√£o do Banco de Dados</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div id="verificacao-loading" class="loading-container">
                    <div class="loading-spinner"></div>
                    <p>Verificando dados no banco...</p>
                </div>
                
                <div id="verificacao-results" class="verification-results" style="display: none;">
                    <div class="verification-summary">
                        <div class="summary-item success">
                            <i class="fas fa-check-circle"></i>
                            <span>Compat√≠veis: <strong id="compatible-count">0</strong></span>
                        </div>
                        <div class="summary-item warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>Discrep√¢ncias: <strong id="discrepancy-count">0</strong></span>
                        </div>
                        <div class="summary-item error">
                            <i class="fas fa-times-circle"></i>
                            <span>N√£o encontrados: <strong id="not-found-count">0</strong></span>
                        </div>
                    </div>
                    
                    <div class="verification-tabs">
                        <button class="verification-tab active" data-tab="discrepancies">Discrep√¢ncias</button>
                        <button class="verification-tab" data-tab="not-found">N√£o Encontrados</button>
                        <button class="verification-tab" data-tab="compatible">Compat√≠veis</button>
                    </div>
                    
                    <div id="discrepancies-tab" class="verification-tab-content active">
                        <h4>√ìrg√£os com Grafias Diferentes</h4>
                        <div class="discrepancy-list">
                            <!-- Lista de discrep√¢ncias ser√° preenchida dinamicamente -->
                        </div>
                    </div>
                    
                    <div id="not-found-tab" class="verification-tab-content">
                        <h4>√ìrg√£os N√£o Encontrados no Banco</h4>
                        <div class="not-found-list">
                            <!-- Lista de n√£o encontrados ser√° preenchida dinamicamente -->
                        </div>
                    </div>
                    
                    <div id="compatible-tab" class="verification-tab-content">
                        <h4>√ìrg√£os Compat√≠veis</h4>
                        <div class="compatible-list">
                            <!-- Lista de compat√≠veis ser√° preenchida dinamicamente -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="verificacao-close">
                    <i class="fas fa-times"></i> Fechar
                </button>
                <button type="button" class="btn btn-primary" id="corrigir-discrepancias" style="display: none;">
                    <i class="fas fa-edit"></i> Corrigir Discrep√¢ncias
                </button>
                <button type="button" class="btn btn-success" id="prosseguir-automacao" style="display: none;">
                    <i class="fas fa-play"></i> Prosseguir com Automa√ß√£o
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Resultados SQL -->
    <div id="modalResultadosSQL" class="modal-overlay" style="display: none;">
        <div class="modal-container modal-results-sql">
            <div class="modal-header">
                <h2>
                    <i class="fas fa-table"></i>
                    Resultados da Query SQL
                </h2>
                <button class="modal-close" onclick="app.fecharModalResultadosSQL()">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="modal-body">
                <!-- Info da Query -->
                <div class="query-info-banner">
                    <div class="info-item">
                        <i class="fas fa-database"></i>
                        <span id="modalGrauInfo"></span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-list"></i>
                        <span id="modalRowCountInfo"></span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-clock"></i>
                        <span id="modalTimeInfo"></span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-server"></i>
                        <span id="modalConnectionInfo">Dados Reais do Banco PostgreSQL</span>
                    </div>
                </div>

                <!-- Container dos Resultados -->
                <div id="modalResultadosContainer" class="modal-results-scroll">
                    <!-- Tabela ser√° inserida aqui -->
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-info" onclick="app.exportarResultadosSQL()">
                    <i class="fas fa-file-export"></i> Exportar CSV
                </button>
                <button class="btn btn-secondary" onclick="app.fecharModalResultadosSQL()">
                    <i class="fas fa-times"></i> Fechar
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <i class="fas fa-code"></i>
                PJE Automation
            </div>
            <div class="footer-text">
                Sistema profissional de automa√ß√£o para o Processo Judicial Eletr√¥nico
            </div>
            <div class="footer-credits">
                <span>Desenvolvido com</span>
                <i class="fas fa-heart heart"></i>
                <span>por</span>
                <span class="author">msribeiro</span>
                <span>-</span>
                <span class="year">2025</span>
            </div>
        </div>
    </footer>

    <script src="sql-autocomplete.js"></script>
    <script src="script.js"></script>
    <script>
        // Inicializar autocomplete SQL quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', () => {
            if (window.SQLAutocomplete) {
                window.sqlAutocomplete = new SQLAutocomplete('sqlQueryInput', '1');
                console.log('‚úÖ SQL Autocomplete inicializado');
            }
        });
    </script>
</body>
</html>
